define(["require","exports","external/lodash","modules/clean/react/file_sidebar/file_sidebar_logger","modules/clean/react/file_sidebar/store/sidebar/selectors","modules/clean/react/file_sidebar/store/file_activity/selectors"],function(e,t,n,r,a,i){"use strict";function o(e){var t=a.getSidebarState(e),n=t.open,r=t.ready;return n&&r}function s(e){return!o(e)}function c(e){return n.values(a.getTabsState(e)).every(function(e){return e.ready})}function u(e){return!c(e)}function d(e){var t=a.getSidebarContext(e);return(t.file?t.file.file_id:-1)+":"+(t.user?t.user.id:-1)}function l(e){var t=a.getSidebarContext(e).user;r.logSidebarOpened({reason:a.getOpenReason(e),num_comments:a.getTabState(e,"comments").extra.commentCount,num_events:i.getVisibleActivityCount(e),viewing_user_id:t?t.id:null})}function f(e){e({changesFrom:s,changesTo:o},function(e){l(e.nextState)}),e({changes:function(e,t){if(o(e)&&o(t)){var n=t.sidebar.tabs,r=e.sidebar.tabs;return!(r.activity.ready&&r.comments.ready)&&n.activity.ready&&n.comments.ready}return!1}},function(e){l(e.nextState)});var t=-1,n="";e({changes:function(e,t){return d(e)!==d(t)}},function(e){var r=e.nextState;t=Date.now(),n=d(r)}),e({changesFrom:u,changesTo:c},function(e){n===d(e.prevState)&&r.logLoadSidebarTiming(Date.now()-t)})}Object.defineProperty(t,"__esModule",{value:!0}),t.reactors=f});
//# sourceMappingURL=reactors.min.js-vfl1Ym3u2.map