define("modules/clean/ajax_as_promised",["require","exports","modules/clean/ajax"],function(e,t,r){"use strict";function n(e){return function(t){return new Promise(function(r,n){return e(t).then(r,function(e,t,r){return n({jqXHR:e,textStatus:t,errorThrown:r})})})}}Object.defineProperty(t,"__esModule",{value:!0}),t.Request=n(r.Request),t.BackgroundRequest=n(r.BackgroundRequest),t.SilentBackgroundRequest=n(r.SilentBackgroundRequest),t.SilentBackgroundRequestOref=n(r.SilentBackgroundRequestOref),t.WebRequest=n(r.WebRequest),t.WebRequestOref=n(r.WebRequestOref),t.FormWebRequest=n(r.FormWebRequest),t.WebProgressRequest=n(r.WebProgressRequest),t.ValidationSchemaRequest=n(r.ValidationSchemaRequest)}),define("modules/clean/appshell/pagelet_init_hooks",["require","exports","modules/core/notify","modules/clean/web_user_action_logger","modules/clean/web_user_action_events","modules/core/i18n"],function(e,t,r,n,o,i){"use strict";function s(){window.ensemble&&window.ensemble.switchedAccounts&&(r.success(i._("You have switched to your %(account_name)s account.").format({account_name:window.ensemble.viewer.getActiveUser().displayName.toLocaleLowerCase()})),n.WebUserActionLog.log(window.ensemble.viewer.getActiveUser().userId,o.WebUserActionLogEvent.SWITCH_ACCOUNT,{}))}Object.defineProperty(t,"__esModule",{value:!0}),t.initialize_module=s}),define("modules/clean/avatar/viewer_avatar",["require","exports","tslib","external/react","modules/clean/avatar/photo_avatar","modules/clean/avatar/size","modules/clean/css","modules/core/uri","modules/clean/event_handler"],function(e,t,r,n,o,i,s,a,u){"use strict";return(function(e){function t(t){var r=e.call(this,t)||this;return r.state={photoUrl:r.props.photoUrl},r}return r.__extends(t,e),t.prototype.componentDidMount=function(){var e=this;s.require_css("/static/css/scooter/scooter-scoped-vflhQ6850.css"),this.events.on(document,"db:account_photo:photo_set",function(t,r){var n=2*e.props.dimension,o=n+"x"+n,i=a.parse(r.saved_photo_url).updateQuery({size:o}).toString();e.setState({photoUrl:i})}),this.events.on(document,"db:account_photo:photo_deleted",function(){e.setState({photoUrl:null})}),!this.hasPhotoAvatar()&&this.props.onLoad&&this.props.onLoad()},t.prototype.hasPhotoAvatar=function(){return null!=this.state.photoUrl},t.prototype.render=function(){return this.hasPhotoAvatar()?n.createElement(o.PhotoAvatar,{alt:this.props.alt,dimension:this.props.dimension,onClick:this.props.onPhotoClick,photoUrl:this.state.photoUrl,optionalClass:this.props.optionalClass,onLoad:this.props.onLoad,onError:this.props.onError}):this.props.defaultAvatar},t.displayName="ViewerAvatar",t.propTypes={dimension:n.PropTypes.oneOf(i.VALID_AVATAR_DIMENSIONS).isRequired},t=r.__decorate([u.eventHandler],t)})(n.Component)}),define("modules/clean/bolt",["require","exports","tslib","external/lodash","jquery","modules/clean/bolt_nodeps","modules/core/exception"],function(e,t,r,n,o,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChannelId=i.ChannelId,t.ChannelPayloads=i.ChannelPayloads,t.Payload=i.Payload,t.SignedChannelState=i.SignedChannelState;var a=(function(e){function t(t,r,i){return e.call(this,t,r,i,"bolt.dropbox.com",o.ajax,n,s)||this}return r.__extends(t,e),t})(i.BoltClient);t.BoltClient=a;var u=(function(e){function t(t,r,i){return e.call(this,t,r,i,"thunder.dropbox.com",o.ajax,n,s)||this}return r.__extends(t,e),t})(i.ThunderClient);t.ThunderClient=u}),define("modules/clean/bolt_nodeps",["require","exports","tslib"],function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(function(){function e(e,t){this.app_id=e,this.unique_id=t}return e})();t.ChannelId=n;var o=(function(){function e(e,t,r,n){this.app_id=e,this.unique_id=t,this.revision=r,this.token=n}return e})();t.SignedChannelState=o;var i=(function(){function e(e,t){this.revision=e,this.payload=t}return e})();t.Payload=i;var s=(function(){function e(e,t){this.channel_state=e,this.payloads=t}return e})();t.ChannelPayloads=s;var a=(function(){function e(e,t,r,n,o,i,s){void 0===s&&(s=null),this._find_state=this._find_state.bind(this),this._long_poll=this._long_poll.bind(this),this._must_find_state=this._must_find_state.bind(this),this._handle_poll_success=this._handle_poll_success.bind(this),this._handle_poll_error=this._handle_poll_error.bind(this),this._update_callback=t,this._refresh_callback=r,this._hostname=n,this._ajax=o,this._lodash=i,this._exclog=s,this._signed_channel_states=[],this._started=!1,this._sequence_num=0,this._backoff_window=1e3,this._additional_headers={},this._timeout_id=null,this.update_states(e)}return e.prototype._encode_channel_state=function(e){return{channel_id:{app_id:e.app_id,unique_id:e.unique_id},revision:e.revision,token:e.token}},e.prototype._decode_channel_state=function(e){return new o(e.channel_id.app_id,e.channel_id.unique_id,e.revision,e.token)},e.prototype._decode_channel_id=function(e){return new n(e.app_id,e.unique_id)},e.prototype._compare_revisions=function(e,t){var r=Math.max(e.length,t.length),n=Array(r-e.length+1).join("0")+e,o=Array(r-t.length+1).join("0")+t;return n<o?-1:n>o?1:0},e.prototype._find_state=function(e){var t=this;return this._lodash.find(this._signed_channel_states,function(r){return t._lodash.isEqual(e,r.channel_id)})},e.prototype.update_states=function(e){for(var t=0,r=Array.from(e);t<r.length;t++){var n=r[t],o=this._encode_channel_state(n),i=this._find_state(o.channel_id);null==i?this._signed_channel_states.push(o):this._compare_revisions(o.revision,i.revision)>=0&&(i.revision=o.revision,i.token=o.token)}},e.prototype.start=function(){if(!this._started)return this._started=!0,this._long_poll()},e.prototype.unsubscribe=function(){this._started=!1,null!=this._long_poll_xhr&&this._long_poll_xhr.abort(),this._long_poll_xhr=null,window.clearTimeout(this._timeout_id),this._timeout_id=null},e.prototype._long_poll=function(){var e=this;this._sequence_num++;var t=this._sequence_num;return this._long_poll_xhr=this._ajax({url:this._subscribe_url(),type:"POST",data:JSON.stringify({channel_states:this._signed_channel_states}),contentType:"application/json; charset=utf-8",headers:this._additional_headers,dataType:"json",timeout:12e4,success:function(r,n,o){return e._handle_poll_success(t,r,n,o)},error:function(r,n){return e._handle_poll_error(t,r,n)},xhrFields:{withCredentials:!0}})},e.prototype._must_find_state=function(e){var t=this._find_state(e);if(null==t){var r="Bolt returned unknown channel id "+e;null!=this._exclog&&this._exclog.reportStack(r)}return t},e.prototype._handle_poll_data=function(e,t,r){return null!=this._exclog?this._exclog.reportStack("Method must be implemented."):void 0},e.prototype._subscribe_url=function(){return"https://"+this._hostname+this._subscribe_endpoint()},e.prototype._subscribe_endpoint=function(){return null!=this._exclog?this._exclog.reportStack("Method must be implemented."):void 0},e.prototype._handle_poll_success=function(e,t,r,n){var o=this;if(e===this._sequence_num&&(this._long_poll_xhr=null,this._started)){var i=this._handle_poll_data(t,r,n);return i.length>0&&this._lodash.defer(this._update_callback,i),(null!=t.invalid_channels?t.invalid_channels.length:void 0)>0?void this._lodash.defer(this._refresh_callback,Array.from(t.invalid_channels).map(function(e){return o._decode_channel_id(e)})):(this._backoff_window=1e3,this._timeout_id=window.setTimeout(this._long_poll,0))}},e.prototype._handle_poll_error=function(e,t,r){if(e===this._sequence_num&&(this._long_poll_xhr=null,this._started)){var n=Math.random()*this._backoff_window;return this._backoff_window=Math.min(2*this._backoff_window,3e5),window.setTimeout(this._long_poll,n)}},e})(),u=(function(e){function t(t,r,n,o,i,s,a){void 0===a&&(a=null);var u=e.call(this,t,r,n,o,i,s,a)||this;return u._handle_poll_data=u._handle_poll_data.bind(u),u}return r.__extends(t,e),t.prototype._subscribe_endpoint=function(){return"/2/notify/subscribe"},t.prototype._handle_poll_data=function(e,t,r){var n=[];if(null!=e.channel_states)for(var o=0,i=Array.from(e.channel_states);o<i.length;o++){var s=i[o],a=this._must_find_state(s.channel_id);this._compare_revisions(s.revision,a.revision)>0&&(a.revision=s.revision,a.token=s.token,n.push(this._decode_channel_state(s)))}return n},t})(a);t.BoltClient=u;var l=(function(e){function t(t,r,n,o,i,s,a){void 0===a&&(a=null);var u=e.call(this,t,r,n,o,i,s,a)||this;return u._handle_poll_data=u._handle_poll_data.bind(u),u}return r.__extends(t,e),t.prototype.unsubscribe=function(){return delete this._additional_headers["X-Bolt-Session"],e.prototype.unsubscribe.call(this)},t.prototype._subscribe_endpoint=function(){return"/2/payloads/subscribe"},t.prototype._handle_poll_data=function(e,t,r){var n=[];if(this._additional_headers={},this._additional_headers["X-Bolt-Session"]=r.getResponseHeader("X-Bolt-Session"),null!=e.channel_payloads)for(var o=0,a=Array.from(e.channel_payloads);o<a.length;o++){for(var u=a[o],l=u.channel_state,p=this._must_find_state(l.channel_id),c=this._decode_channel_state(u.channel_state),_=[],d=0,h=Array.from(u.payloads);d<h.length;d++){var f=h[d];this._compare_revisions(f.revision,p.revision)>0&&_.push(new i(f.revision,f.payload))}_.length>0&&n.push(new s(c,_)),this._compare_revisions(l.revision,p.revision)>0&&(p.revision=l.revision,p.token=l.token)}return n},t})(a);t.ThunderClient=l}),define("modules/clean/browse_interface",["require","exports","tslib","modules/clean/history","modules/clean/viewer","modules/core/i18n","modules/core/uri","modules/clean/browse_uri_interface","modules/clean/browse_uri_interface"],function(e,t,r,n,o,i,s,a,u){"use strict";function l(e){return o.Viewer.get_viewer().is_paired?o.Viewer.get_root_name(e):i._("Files")}function p(){return o.Viewer.get_viewer().get_users().map(function(e){return{name:l(e),path:u.get_browse_root(e)}})}function c(e,t){var n=e.fqPath,o=e.userId,i=r.__assign({},null==t?{}:t,(a={undelete:"1"},a._subject_uid=String(o),a));n=n.replace(/^[\/]/,"");return new s({path:"/history/"+n}).updateQuery(i).toString();var a}function _(e){var t=e.fqPath,r=e.userId,o=(i={prev:s.parse(n.get_url()).setFragment("").toString()},i._subject_uid=String(r),i);return t=t.replace(/^[\/]/,""),new s({path:"/restore/"+t}).updateQuery(o).toString();var i}Object.defineProperty(t,"__esModule",{value:!0}),t.HOME_ROOT=a.HOME_ROOT,t.PERSONAL_ROOT=a.PERSONAL_ROOT,t.WORK_ROOT=a.WORK_ROOT,t.get_browse_root=a.get_browse_root,t.preview_uri_for_fq_path=a.preview_uri_for_fq_path,t.set_base_prefix=a.set_base_prefix,t.browse_uri_for_fq_path=a.browse_uri_for_fq_path,t.get_browse_root_name=l,t.get_all_browse_roots=p,t.getFileHistoryUrl=c,t.getRestoreFileUrl=_}),define("modules/clean/downloads",["require","exports","jquery","modules/clean/filepath","modules/core/browser","modules/core/exception","modules/core/html","modules/core/i18n","modules/core/notify","modules/core/uri"],function(e,t,r,n,o,i,s,a,u,l){"use strict";function p(e){var r=e.url,n=e.ns_id,o=e.ns_path,s=e.inside_admin_console,a=e.error,u=l.parse(r);return u.setScheme("https"),s?u.updateQuery({dl:"1",inside_admin_console:"true"}):u.updateQuery({dl:"1"}),null!=n&&(i.assert("string"==typeof o,"Namespace ID was passed with invalid path, got: "+o),u.updateQuery({nsid:String(n),path:o})),i.assert("dl-web.dropbox.com"===u.getAuthority(),"download_blockserver_url expects a blockserver resource, got: "+r),t.get({url:u.toString(),error:a})}function c(e){for(var t=e.parent_ns_id,o=e.parent_ns_path,i=e.files,s=e.subject_uid,a=e.block_hash,u=new l({scheme:"https",authority:"dl-web.dropbox.com",path:"/zip_batch_by_ns_id",query:(h={},h._subject_uid=String(s),h.parent_ns_id=String(t),h.parent_ns_path=o||"/",h)}).toString(),p=r("<form>",{action:u,method:"post"}),c=0,_=i;c<_.length;c++){var d=_[c];r("<input>",{name:"ns_paths",value:o+"/"+n.filename(d.fq_path)}).appendTo(p)}r("<input>",{name:"w",value:a}).appendTo(p),r(document.body).append(p),p.submit(),p.remove();var h}function _(e){var n=e.fq_paths,o=e.subject_uid,i=e.block_hash,s=e.parent_path;if(s=s||"/",1===n.length){var a=new l({scheme:"https",authority:"dl-web.dropbox.com",path:"/zip_batch_download",query:(h={},h._subject_uid=String(o),h.files=n[0],h.parent_path=s,h.w=i,h)}).toString();t.get({url:a})}else{for(var u=new l({scheme:"https",authority:"dl-web.dropbox.com",path:"/zip_batch",query:(f={},f._subject_uid=String(o),f)}).toString(),p=r("<form>",{action:u,method:"post"}),c=0,_=n;c<_.length;c++){r("<input>",{name:"files",value:_[c]}).appendTo(p)}var d=r("<input>",{name:"parent_path",value:s});d.appendTo(p),d=r("<input>",{name:"w",value:i}),d.appendTo(p),r(document.body).append(p),p.submit(),p.remove()}var h,f}function d(){b=!0,w={},r(window).on("message",h)}function h(e){var t=l.parse(e.originalEvent.origin);if("https"===t.getScheme()&&g.includes(t.getAuthority())){var r;try{r=JSON.parse(e.originalEvent.data)}catch(e){return}if(r&&r.download_id){var n=w[r.download_id];if(null!=n&&t.getAuthority()===n.origin&&e.originalEvent.source===n.iframe[0].contentWindow){if("failed"===r.status){var o=(r.message||v)+'<a target="_blank" rel="noreferrer" href="/help/desktop-web/download-entire-folders">'+a._("More info")+"</a>";u.error(new s(o)),n.error&&n.error()}f(r.download_id)}}}}function f(e){var t=w[e];null!=t&&(t.iframe.remove(),delete w[e])}function m(){for(var e="",t=1;t<=4;t++)e+=String(Math.random()).split(".")[1];return e}Object.defineProperty(t,"__esModule",{value:!0});var g=["dl-web.dropbox.com","dl.dropboxusercontent.com"],v=a._("There was an error downloading your file."),b=!1,w={};t.get=function(e){var t=e.url,n=e.error,s=e.__do_not_use_expected_domain,a=l.parse(t),p=s||a.getAuthority();if(i.assert(g.includes(p),"attempt to download from a non-blockserver domain"),o.iOS)return i.assert(["",window.location.host].concat(g).includes(a.getAuthority()),"blocked attempted download from non-block domain that differs from current domain"),o.unsafeRedirect(t),!1;b||d();var c=m();a.updateQuery((h={},h._download_id=c,h._notify_domain=window.location.host,h));var _=r("<iframe />",{src:String(a)}).css("display","none");return _.on("load",function(){setTimeout(function(){var e=w[c];null!=e&&(o.chrome&&(u.error(v),e.error&&e.error()),f(c))},100)}),w[c]={origin:p,error:n,iframe:_},r("body").append(_),window.setTimeout(function(){return f(c)},9e4),!1;var h},t.get_blockserver_link=p,t.zip_batch_by_ns_id=c,t.get_zip=_,t.init=d}),define("modules/clean/event_handler",["require","exports","jquery"],function(e,t,r){"use strict";function n(e){var r=e.prototype.componentWillMount,n=e.prototype.componentWillUnmount;e.prototype.componentWillMount=function(){t.EventHandlerMixin.componentWillMount.apply(this),r&&"function"==typeof r&&r.apply(this)},e.prototype.componentWillUnmount=function(){n&&"function"==typeof n&&n.apply(this),t.EventHandlerMixin.componentWillUnmount.apply(this)}}Object.defineProperty(t,"__esModule",{value:!0}),t.eventHandler=n,t.EventHandlerMixin={componentWillMount:function(){this.events=new o},componentWillUnmount:function(){this.events.removeAll()}};var o=(function(){function e(){}return e.prototype.on=function(e,t,n,o,i){"string"!=typeof n&&(i=o,o=n,n=void 0),i&&(o=r.proxy(o,i)),this.handlers||(this.handlers=[]),e=r(e),n?e.on(t,n,o):e.on(t,o),this.handlers.push({element:e,event:t,selector:n,callback:o})},e.prototype.removeAll=function(){this.handlers&&(this.handlers.forEach(function(e){e.selector?e.element.off(e.event,e.selector,e.callback):e.element.off(e.event,e.callback)}),this.handlers=null)},e})();t.EventHandler=o}),define("modules/clean/flux/action_type",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){for(var r={},n={},o=0,i=Object.keys(t||{});o<i.length;o++){var s=i[o],a=t[s];if(r[s]=e+"__"+a,null!=n[a])throw new Error("Duplicate action value '"+a+"'!");n[a]=!0}return r};t.withActionNamespace=r}),define("modules/clean/fuzzy",["require","exports"],function(e,t){"use strict";var r={simpleFilter:function(e,t){return t.filter(function(t){return r.test(e,t)})},test:function(e,t){return null!==r.match(e,t)},match:function(e,t,r){r=r||{};var n=0,o=[],i=t.length,s=0,a=0,u=r.pre||"",l=r.post||"",p=r.caseSensitive&&t||t.toLowerCase(),c=void 0;e=r.caseSensitive&&e||e.toLowerCase();for(var _=0,d=[],h=0,f=0;_<i;)c=t[_],p[_]===e[n]?(c=u+c+l,f?f+=1:(h=_,f=1),n+=1,a+=1+a):(a=0,f&&(d.push([h,f]),f=0)),s+=a,o[o.length]=c,_++;return f&&d.push([h,f]),n===e.length?{highlighted:d,rendered:o.join(""),score:s}:null},filter:function(e,t,r){void 0===r&&(r={});var n=[],o=this._reduce.bind(this,e,r);return t.reduce(o,n).sort(this._sort)},_reduce:function(e,t,n,o,i){var s=o;t.extract&&(s=t.extract(o));var a=r.match(e,s,t);return null!=a&&n.push({string:a.rendered,score:a.score,index:i,original:o}),n},_sort:function(e,t){var r=t.score-e.score;return r?r:e.index-t.index}};return r}),define("modules/clean/history",["require","exports","external/lodash","modules/core/exception","modules/core/uri"],function(e,t,r,n,o){"use strict";return(function(){var e=new RegExp("#|;|\\?|:|@|&|=|\\+|\\$"),t=function(){var t=window.location.pathname,r=window.location.search;return t.search(e)!==-1&&(t=String(new o({path:t}))),t+r},i=function(){var e=o.parse(t());return e.setPath(o.encode_parts(e.getPath())),e},s=function(e,t){return null==t&&(t=void 0),String(o.parse(e).setQuery(t))},a=function(e){return void 0===e&&(e=t()),{url:e,path:e.split("?")[0],qargs:o.parse(e).getQuery()}},u={},l={},p=t(),c=null,_="",d=function(e){return _+"/"+e.substring(_.length).split("/")[1]},h=function(e){return _=e},f=function(e){var t=p,r=a(t),n=d(r.path);if(n in e){var o=r.path.substr(n.length+1);return Array.from(e[n]).map(function(e){return e(o,r.qargs)})}},m=function(){return f(u)},g=function(){return f(l)},v=function(e,t,r){if(r[e]){var n=r[e].indexOf(t);return r[e].splice(n,1)}},b=function(e,t){if(d(e)!==d(t))return g()},w=function(){var e=t();if(e!==p)return b(p,e),p=e,m()};return{init:function(){if(!c)return p=t(),c=setInterval(w,50)},_add_callback:function(e,t,r){return this.init(),n.assert("string"==typeof e,"DBHistory prefix is not a string"),n.assert(0===e.indexOf("/"),"DBHistory prefix must be absolute"),n.assert(e.substring(_.length).indexOf("/",1)===-1,"multi-component prefixes arent supported"),r[e]||(r[e]=[]),r[e].push(t)},add_callback:function(e,t,r){if(void 0===r&&(r=!1),this._add_callback(e,t,u),!r)return m()},remove_callback:function(e,t){return v(e,t,u)},remove_exit_callback:function(e,t){return v(e,t,l)},add_exit_callback:function(e,t){return this._add_callback(e,t,l)},fire_callbacks:function(){return m()},fire_exit_callbacks:function(){return g()},_build_url_for_state_change:function(e,t){return n.assert("string"==typeof e,"DBHistory path is not a string"),n.assert(0===e.indexOf("/"),"DBHistory path must be absolute"),n.assert(e.indexOf("//")===-1,"DBHistory path contains //"),s(e,t)},_pre_state_change:function(e){return e!==p&&(b(p,e),!0)},_post_state_change:function(e){if(void 0===e&&(e=!0),p=t(),e)return m()},replace_state:function(e,t){var r=this._build_url_for_state_change(e,t);if(this._pre_state_change(r)&&window.history.replaceState)return window.history.replaceState(null,null,r),this._post_state_change()},push_state:function(e,t,o){null==o&&(o={}),o=r.defaults(o,{immediatelyRestoreState:!0}),n.assert(e.indexOf("?")===-1,"DBHistory path contains ?"),n.assert(e.indexOf("#")===-1,"DBHistory path contains #");var i=this._build_url_for_state_change(e,t);if(this._pre_state_change(i))return window.history.pushState(null,null,i),this._post_state_change(o.immediatelyRestoreState)},update_query_param:function(e,t){var r=this.deconstruct_url();return r.qargs[e]=t,this.replace_state(r.path,r.qargs)},remove_query_param:function(e){var t=this.deconstruct_url();return delete t.qargs[e],this.replace_state(t.path,t.qargs)},get_url:t,get_uri:i,construct_url:s,deconstruct_url:a,set_base_prefix:h,URL_ESCAPE_REGEX:e}})()}),define("modules/clean/pagelet_logger",["require","exports","modules/core/browser","modules/clean/js_client_stopwatch","modules/clean/web_timing_logger"],function(e,t,r,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=(function(){function e(e,t,o,i){void 0===t&&(t=[]),void 0===o&&(o=!1),void 0===i&&(i={});var s=this;if(this.pageletName=e,o){var a=r.performance();a&&a.now&&(this.performance=a,this.stopwatchName=this.pageletName+"_client_logging",n.JSStopwatch.create_stopwatch_if_not_exist(this.stopwatchName))}else this.stopwatchName=void 0;this.ttiComponents=[],t.map(function(e){s.ttiComponents.push({name:e,isReady:!1})}),this.ttiMarked=!1,this.extraColumns=i}return e.prototype.componentReady=function(e){if(!this.ttiMarked){for(var t=!1,r=0;r<this.ttiComponents.length;++r)this.ttiComponents[r].name!==e||this.ttiComponents[r].isReady?this.ttiComponents[r].isReady||(t=!0):(this.ttiComponents[r].isReady=!0,n.JSStopwatch.recordTrace(e+"_since_start",{stopwatchName:this.stopwatchName}),console.timeStamp&&console.timeStamp(e+" TTI"));t||(o.mark_time_to_interactive(this.extraColumns),this.ttiMarked=!0)}},Object.defineProperty(e.prototype,"ttiLogged",{get:function(){return this.ttiMarked},enumerable:!0,configurable:!0}),e})();t.PageletLogger=i}),define("modules/clean/react/bubble_menu",["require","exports","tslib","external/classnames","external/create-react-class","external/react","external/react-dom","external/lodash","jquery","modules/clean/keycode","modules/clean/react/bubble_dropdown_v2"],function(e,t,r,n,o,i,s,a,u,l,p){"use strict";function c(e,t){return void 0!==e&&null!==e?t(e):void 0}Object.defineProperty(t,"__esModule",{value:!0});var _=i.DOM,d=i.createElement,h=function(e,t,r){var n=e[t].type;if(![m,g,v].includes(n)){var o=(null!=n?n.displayName:void 0)||e[t];return new Error("Expected menu items to be instances of BubbleMenuItem, not "+o+".")}return null},f={DEFAULT:1,CHECKBOX:2,RADIO:3},m=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._handleMouseEnter=function(e){if(null!=t.refs.item)return u(s.findDOMNode(t.refs.item)).closest(".bubble-menu").removeClass("bubble-menu--keyboard"),t.props.onMouseEnter(e)},t._handleClick=function(e){return t.props.disabled?(e.preventDefault(),e.stopPropagation()):"#"===t.props.href&&(e.preventDefault(),t.props.onClick(e),t.props.closeOnClick)?t.props.closeFunc():void 0},t._getRole=function(){switch(t.props.itemType){case f.CHECKBOX:return"menuitemcheckbox";case f.RADIO:return"menuitemradio";default:return"menuitem"}},t._getAriaChecked=function(){switch(t.props.itemType){case f.CHECKBOX:case f.RADIO:return t.props.checked||!1;default:return null}},t.renderContents=function(){var e={"bubble-menu-item":!0,"bubble-menu-item--disabled":t.props.disabled,"bubble-menu-item--checked":t.props.checked};return _.a({ref:"item",role:t._getRole(),className:n(e),href:t.props.href,target:t.props.target,onClick:t._handleClick,onMouseEnter:t._handleMouseEnter,onMouseLeave:t.props.onMouseLeave,"aria-disabled":t.props.disabled,"aria-checked":t._getAriaChecked()},t.props.children)},t}return r.__extends(t,e),t.prototype.render=function(){return _.li({role:"presentation",className:n("bubble-menu-item-wrapper",this.props.className)},this.renderContents())},t.displayName="BubbleMenuItem",t.propTypes={onClick:i.PropTypes.func,href:i.PropTypes.string,target:i.PropTypes.string,disabled:i.PropTypes.bool,closeOnClick:i.PropTypes.bool,closeFunc:i.PropTypes.func,className:i.PropTypes.string,onMouseEnter:i.PropTypes.func,onMouseLeave:i.PropTypes.func,itemType:i.PropTypes.oneOf(a.values(f)),checked:i.PropTypes.bool},t.defaultProps={onClick:a.noop,href:"#",target:null,disabled:!1,closeOnClick:!0,closeFunc:a.noop,className:null,onMouseEnter:a.noop,onMouseLeave:a.noop,itemType:f.DEFAULT,checked:null},t.TYPES=f,t})(i.Component);t.BubbleMenuItem=m;var g=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.render=function(){return _.li({role:"separator",className:this.props.className},this.props.children)},t.displayName="BubbleMenuSeparator",t.propTypes={className:i.PropTypes.string},t.defaultProps={className:"bubble-menu-item-separator"},t})(i.Component);t.BubbleMenuSeparator=g;var v=o({displayName:"BubbleMenuItemGroup",props:{items:i.PropTypes.arrayOf(h).isRequired,closeFunc:i.PropTypes.func},render:function(){var e=this;return 0===this.props.items.length?null:_.li({className:"bubble-menu-item-group",role:"presentation"},_.ul({className:"bubble-menu-item-group u-unlist u-trim-padding",role:"group"},Array.from(this.props.items).map(function(t,r){return i.cloneElement(t,{closeFunc:e.props.closeFunc,key:null!=t.key?t.key:r})})))}});t.BubbleMenuItemGroup=v;var b=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.showMenu=function(){return c(null!=t.refs.bubble?t.refs.bubble.getWrappedComponent():void 0,function(e){return e.showDropdown()})},t.hideMenu=function(){return c(null!=t.refs.bubble?t.refs.bubble.getWrappedComponent():void 0,function(e){return e.hideDropdown()})},t._onShowBubbleMenu=function(){if(null!=t.refs.menu&&null!=t.refs.bubble)return t.$menu=u(s.findDOMNode(t.refs.menu)),t.$menuitems=t.$menu.find('*[role="menuitem"],*[role="menuitemcheckbox"],*[role="menuitemradio"]'),t.$menu.addClass("bubble-menu--keyboard"),"function"==typeof t.props.onShowDropdown?t.props.onShowDropdown():void 0},t._onKeyDown=function(e){return t.$menu.addClass("bubble-menu--keyboard"),e.keyCode===l.KeyCode.DOWN?(t._focusNext(e.target),e.preventDefault(),e.stopPropagation()):e.keyCode===l.KeyCode.UP?(t._focusPrevious(e.target),e.preventDefault(),e.stopPropagation()):void 0},t._onKeyPress=function(e){t.$menu.addClass("bubble-menu--keyboard");var r=null!=e.which?e.which:e.keyCode,n=String.fromCharCode(r).toLowerCase();return(function(){for(var r=[],o=0;o<t.$menuitems.length;o++){var i=t.$menuitems[o];if(c(null!=i.textContent?i.textContent[0]:void 0,function(e){return e.toLowerCase()})===n&&o>t.$menuitems.index(e.target)){i.focus(),e.stopPropagation();break}r.push(void 0)}return r})()},t._focusPrevious=function(e){var r=t.$menuitems.index(e);return r=[-1,0].includes(r)?t.$menuitems.length-1:r-1,t.$menuitems.get(r).focus()},t._focusNext=function(e){var r=t.$menuitems.index(e);return r=[-1,t.$menuitems.length-1].includes(r)?0:r+1,t.$menuitems.get(r).focus()},t}return r.__extends(t,e),t.prototype.render=function(){var e,t=this;return this.props.targetButton&&(e=d(w,{ref:"targetButton",childProps:{"aria-haspopup":!0}},this.props.targetButton)),d(p.BubbleDropdown,a.assignIn({},this.props,{ref:"bubble",shouldTrapKeyboardFocus:!0,onShowDropdown:this._onShowBubbleMenu,targetButton:e}),_.div({},this.props.headerContent),_.ul({role:"menu",ref:"menu",className:"bubble-menu",onKeyDown:this._onKeyDown,onKeyPress:this._onKeyPress},Array.from(this.props.items).map(function(e,r){return i.cloneElement(e,{closeFunc:t.hideMenu,key:null!=e.key?e.key:r})})))},t.displayName="BubbleMenu",t.POSITIONS=p.BubbleDropdown.POSITIONS,t.propTypes=a.assignIn({},p.BubbleDropdown.propTypes,{headerContent:i.PropTypes.element,items:i.PropTypes.arrayOf(h).isRequired,onShowDropdown:i.PropTypes.func,targetButton:function(e,t,r){if("button"!==(null!=e.targetButton?e.targetButton.type:void 0))return new Error("BubbleDropdown's targetButton must be a `<button>`, found: "+e[t].type)}}),t})(i.Component);t.BubbleMenu=b;var w=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.render=function(){return i.cloneElement(this.props.children,this.props.childProps)},t.displayName="BubbleMenuTargetButtonWrapper",t.propTypes={childProps:i.PropTypes.object},t})(i.Component)}),define("modules/clean/react/hidden",["require","exports","tslib","external/react","external/lodash"],function(e,t,r,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n.DOM,s=n.createElement,a=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.render=function(){return i.div({className:"hidden-option"},this.props.children)},t.displayName="Hidden",t})(n.Component);t.Hidden=a;var u=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.render=function(){return s(a,{},i.select(o.omit(this.props,"options"),Array.from(this.props.options).map(function(e){return i.option({key:e,label:e,value:e})})))},t.displayName="HiddenSelect",t.propTypes={options:n.PropTypes.arrayOf(n.PropTypes.any).isRequired,value:n.PropTypes.any},t})(n.Component);t.HiddenSelect=u}),define("modules/clean/react/icon/folder_icon",["require","exports","tslib","external/react","external/spectrum/icon_content","modules/clean/react/icon/icon_helper"],function(e,t,r,n,o,i){"use strict";function s(e){var t=e.length,r=e.lastIndexOf("_",t);return parseInt(e.substr(r+1,t),10)?e.substr(0,r):e}Object.defineProperty(t,"__esModule",{value:!0});var a={folder_user:"folder_shared",folder_user_gray:"folder_shared",folder_team:"folder_team",folder_team_gray:"folder_team",folder_team_locked:"folder_team_read_only",folder_team_locked_gray:"folder_team_read_only",folder_user_locked:"folder_shared_read_only",folder_user_locked_gray:"folder_shared_read_only",folder:"folder",folder_gray:"folder",folder_team_member:"folder_team_member",folder_user_no_access:"folder_confidential",folder_app:"folder_app",package:"pkg",folder_camera:"folder_camera_upload",dropbox:"folder_dropbox",folder_user_no_access_admin_view:"folder_confidential_admin_view"};t.getIconForFolder=function(e,t,r){void 0===t&&(t="small"),void 0===r&&(r=!1);var n=e.type,o=e._mount_access_perms,s=!o||o.indexOf("can_edit")!==-1,a=!o||o.indexOf("can_view")!==-1;return i.spectrum_folder_icon({fileType:n,isInTeamFolderTree:r,isCameraUploads:e.is_camera_uploads===!0,isViewOnly:!a||!s,size:"small"===t?i.ICON_SIZES.LARGE:i.ICON_SIZES.XLARGE})},t.isLegacyFolderIcon=function(e){var t=s(e),r=["folder_star","folder_public"];return t in a||r.includes(t)},t.convertLegacyFolderIconToSpectrum=function(e,t){return(a[s(e)]||"folder")+"-"+t};var u=(function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(i,e),i.prototype.render=function(){var e=this.props,i=e.file,s=e.variant,a=void 0===s?"small":s,u=(e.inTeamFolder,r.__rest(e,["file","variant","inTeamFolder"])),l=i.isDeleted,p=t.convertLegacyFolderIconToSpectrum(i.icon||"",a);return n.createElement(o.IconContent,r.__assign({name:p,disabled:l},u))},i})(n.Component);t.FolderIcon=u}),define("modules/clean/react/icon/icon_helper",["require","exports","modules/clean/filetypes","modules/clean/filepath"],function(e,t,r,n){"use strict";function o(e,r){switch(void 0===r&&(r=t.ICON_SIZES.SMALL),r){case t.ICON_SIZES.LARGE:return e+"_32";case t.ICON_SIZES.XLARGE:return e+"_64";default:return e}}function i(e){switch(e){case t.ICON_SIZES.LARGE:return"small";case t.ICON_SIZES.XLARGE:return"large";default:return"small"}}function s(e,r){return void 0===r&&(r=t.ICON_SIZES.SMALL),e+"-"+i(r)}function a(e,t){var r=(void 0===t?{}:t).size;return o(_[e]||"page_white",r)}function u(e,t){var r=(void 0===t?{}:t).size;return a(n.file_extension(e).toLowerCase(),{size:r})}function l(e){return"s_web_"+c({isInTeamFolderTree:e})}function p(e){var n=void 0===e?{}:e,o=n.fileType,i=void 0===o?r.FileTypes.FOLDER:o,a=n.isInTeamFolderTree,u=void 0!==a&&a,l=n.isCameraUploads,p=void 0!==l&&l,c=n.isViewOnly,_=void 0!==c&&c,d=n.size,h=void 0===d?t.ICON_SIZES.SMALL:d,f="";switch(i){case r.FileTypes.TEAM_MEMBER_FOLDER:return s("folder_team_member",h);case r.FileTypes.SANDBOX:return s("folder_app",h);case r.FileTypes.PACKAGE:case r.FileTypes.FOLDER:case r.FileTypes.FILE:if(p)return s("folder_camera_upload",h);f=u?"_shared":"";break;case r.FileTypes.SHARED_FOLDER:f="_shared";break;case r.FileTypes.TEAM_SHARED_FOLDER:f="_team"}var m="";return _&&""!==f&&(m="_read_only"),s("folder"+f+m,h)}function c(e){
var r=void 0===e?{}:e,n=r.isShared,i=void 0!==n&&n,s=r.isDeleted,a=void 0!==s&&s,u=r.isTeamFolder,l=void 0!==u&&u,p=r.isInTeamFolderTree,c=void 0!==p&&p,_=r.isViewOnly,d=void 0!==_&&_,h=r.size,f=void 0===h?t.ICON_SIZES.LARGE:h,m="";l?m="_team":(i||c)&&(m="_user");var g="";d&&""!==m&&(g="_locked");var v="";return a&&(v="_gray"),o("folder"+m+g+v,f)}Object.defineProperty(t,"__esModule",{value:!0});var _={_other:"page_white",log:"page_white",msg:"page_white",sln:"page_white",vcproj:"page_white",txt:"page_white_text",wps:"page_white_text",doc:"page_white_word",docx:"page_white_word",docm:"page_white_word",rtf:"page_white_word",pages:"page_white_word",wpd:"page_white_word",odt:"page_white_word",pdf:"page_white_acrobat",eps:"page_white_acrobat",xls:"page_white_excel",xlsm:"page_white_excel",xlsx:"page_white_excel",xlsb:"page_white_excel",ods:"page_white_excel",csv:"page_white_excel",ppt:"page_white_powerpoint",pptx:"page_white_powerpoint",pptm:"page_white_powerpoint",pps:"page_white_powerpoint",ppsx:"page_white_powerpoint",ppsm:"page_white_powerpoint",odp:"page_white_powerpoint",key:"page_white_keynote",css:"page_white_code",html:"page_white_code",htm:"page_white_code",xml:"page_white_code",php:"page_white_code",c:"page_white_code",h:"page_white_code",rb:"page_white_code",cpp:"page_white_code",java:"page_white_code",js:"page_white_code",json:"page_white_code",cs:"page_white_code",py:"page_white_code",pl:"page_white_code",exe:"page_white_gear",dll:"page_white_gear",app:"page_white_gear",mp3:"page_white_sound",m3u:"page_white_sound",wav:"page_white_sound",m4a:"page_white_sound",wma:"page_white_sound",aif:"page_white_sound",iff:"page_white_sound",mid:"page_white_sound",mpa:"page_white_sound",ra:"page_white_sound",aiff:"page_white_sound",amr:"page_white_sound",ogg:"page_white_sound","3ga":"page_white_sound",aac:"page_white_sound",oga:"page_white_sound",gif:"page_white_picture",png:"page_white_picture",jpg:"page_white_picture",jpeg:"page_white_picture",tiff:"page_white_picture",tif:"page_white_picture",bmp:"page_white_picture",odg:"page_white_picture","3fr":"page_white_picture",ari:"page_white_picture",arw:"page_white_picture",srf:"page_white_picture",sr2:"page_white_picture",bay:"page_white_picture",crw:"page_white_picture",cr2:"page_white_picture",cap:"page_white_picture",eip:"page_white_picture",dcs:"page_white_picture",dcr:"page_white_picture",drf:"page_white_picture",k25:"page_white_picture",kdc:"page_white_picture",dng:"page_white_picture",erf:"page_white_picture",fff:"page_white_picture",iiq:"page_white_picture",mef:"page_white_picture",mos:"page_white_picture",mrw:"page_white_picture",nef:"page_white_picture",nrw:"page_white_picture",orf:"page_white_picture",pef:"page_white_picture",ptx:"page_white_picture",pxn:"page_white_picture",r3d:"page_white_picture",raf:"page_white_picture",rw2:"page_white_picture",raw:"page_white_picture",rwl:"page_white_picture",rwz:"page_white_picture",obm:"page_white_picture",srw:"page_white_picture",x3f:"page_white_picture",svg:"page_white_picture",asf:"page_white_film",avi:"page_white_film",flv:"page_white_film",mov:"page_white_film",mp4:"page_white_film",mkv:"page_white_film",wmv:"page_white_film",mpg:"page_white_film","3gp":"page_white_film","3gpp":"page_white_film",m4v:"page_white_film",vob:"page_white_film",ogv:"page_white_film",gz:"page_white_compressed",tar:"page_white_compressed",rar:"page_white_compressed",zip:"page_white_compressed",tgz:"page_white_compressed",bz2:"page_white_compressed",iso:"page_white_dvd",dmg:"page_white_dvd",ai:"page_white_vector",psd:"page_white_paint",au:"page_white_sound",fla:"page_white_flash",swf:"page_white_flash",url:"page_white_linkfile",webloc:"page_white_linkfile",website:"page_white_linkfile"};t.ICON_SIZES={SMALL:"SMALL",LARGE:"LARGE",XLARGE:"XLARGE"},t.to_spectrum_icon_size=i,t.extension_icon=a,t.file_icon=u,t.new_folder_icon=l,t.spectrum_folder_icon=p,t.folder_icon=c}),define("modules/clean/react/paging_list",["require","exports","tslib","external/classnames","external/react","external/react-dom","external/lodash","jquery"],function(e,t,r,n,o,i,s){"use strict";var a=o.DOM;return(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._getScroll=function(){var e=i.findDOMNode(t.refs.scroller).getBoundingClientRect().top;return i.findDOMNode(t.refs.container).getBoundingClientRect().top-e},t._setScroll=function(e){return i.findDOMNode(t.refs.container).scrollTop+=e-t._getScroll()},t._getViewportSize=function(){return i.findDOMNode(t.refs.container).clientHeight},t._getStartAndEnd=function(){var e=Math.max(0,t._getScroll()-t.props.threshold);return{start:e,end:e+t._getViewportSize()+2*t.props.threshold}},t.updateFrame=function(){var e=t._getStartAndEnd(),r=e.start,n=e.end,o=t.props.itemSize,i=t._constrainFrom(Math.floor(r/o),t.props.children.length),s=t._constrainSize(Math.ceil((n-r)/o)+1,t.props.children,i);return t.setState({from:i,size:s})},t._getSpaceBefore=function(e){return e*t.props.itemSize},t._constrainFrom=function(e,t){return e?Math.max(Math.min(e,t-1),0):0},t._constrainSize=function(e,r,n){var o=r.length,i=t.props.pageSize;return Math.min(Math.max(e,i),o-n)},t.scrollTo=function(e){return t._setScroll(t._getSpaceBefore(e))},t.scrollAround=function(e){var r=t._getScroll(),n=t._getSpaceBefore(e);if(r>n)return t._setScroll(n);var o=n-t._getViewportSize()+t.props.itemSize;return r<o?t._setScroll(o):void 0},t._renderItems=function(){var e=t.state.from+t.state.size-1;return t.props.children.slice(t.state.from,+e+1||void 0)},t.state={from:0,size:t._constrainSize(t.props.pageSize,t.props.children,0)},t}return r.__extends(t,e),t.prototype.componentWillReceiveProps=function(e){var t=this._constrainFrom(this.state.from,e.children.length),r=this._constrainSize(this.state.size,e.children,t);return this.setState({from:t,size:r})},t.prototype.componentDidMount=function(){return window.addEventListener("resize",this.updateFrame),i.findDOMNode(this).addEventListener("scroll",this.updateFrame),this.updateFrame()},t.prototype.shouldComponentUpdate=function(e,t){return!s.isEqual(e,this.props)||!s.isEqual(t,this.state)},t.prototype.componentDidUpdate=function(){return this.updateFrame()},t.prototype.componentWillUnmount=function(){return window.removeEventListener("resize",this.updateFrame),i.findDOMNode(this).removeEventListener("scroll",this.updateFrame)},t.prototype.render=function(){var e={position:"relative",height:this._getSpaceBefore(this.props.children.length)},t=this._getSpaceBefore(this.state.from),r=this.props.useTranslate3d?"translate3d(0px, "+t+"px, 0)":"translate(0px, "+t+"px)",o={MsTransform:r,WebkitTransform:r,transform:r};return a.div({className:n("paging-list",this.props.customClass),ref:"container"},a.div({style:e,ref:"scroller"},a.ul({style:o},this._renderItems())))},t.displayName="PagingList",t.propTypes={customClass:o.PropTypes.oneOfType([o.PropTypes.string,o.PropTypes.instanceOf(n)]),itemSize:o.PropTypes.number.isRequired,pageSize:o.PropTypes.number.isRequired,threshold:o.PropTypes.number,useTranslate3d:o.PropTypes.bool},t.defaultProps={threshold:100,useTranslate3d:!1},t})(o.Component)}),define("modules/clean/react/rebrand/elements/rebrand_buttons",["require","exports","tslib","external/react","external/classnames","modules/clean/react/css"],function(e,t,r,n,o,i){"use strict";function s(e,t,r,n,i,s){void 0===e&&(e="primary"),void 0===t&&(t=!1),void 0===r&&(r="small"),void 0===n&&(n=null),void 0===i&&(i=null),void 0===s&&(s=!1);var a="button--"+r,u="";n&&(u=a+"--"+n);var l="button--"+e,p="";return t&&(p=l+"--disabled"),o((c={},c["button--with-border"]="secondary"===e&&s,c),"button",l,a,u,i,p);var c}function a(e){e.preventDefault()}function u(){}Object.defineProperty(t,"__esModule",{value:!0});var l=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.importance,r=e.disabled,o=e.size,i=e.width,l=e.className,p=e.withBorder,c=s(t,r,o,i,l,p);return n.createElement("a",{href:this.props.href,className:c,onClick:r?a:u,"aria-disabled":r},this.props.children)},t})(n.Component);t.RebrandButtonAnchorElement=l,t.RebrandButtonAnchor=i(l,["/static/css/rebrand/elements/button-vfl24Qd8O.css"]);var p=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.importance,r=e.disabled,o=e.size,i=e.width,a=e.className,u=e.onClick,l=e.type,p=s(t,r,o,i,a);return n.createElement("button",{className:p,onClick:u,disabled:r,type:l||"button","aria-label":this.props.ariaLabel},this.props.children)},t})(n.Component);t.RebrandButtonElement=p,t.RebrandButton=i(p,["/static/css/rebrand/elements/button-vfl24Qd8O.css"])}),define("modules/clean/react/tooltip",["require","exports","tslib","external/react","external/react-dom","external/lodash","jquery"],function(e,t,r,n,o,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,u={TOP:0,BOTTOM:1,LEFT:2,RIGHT:3,BOTTOM_RIGHT:4};t.TooltipPosition=u;var l=n.DOM,p=function(){var e="tooltip-holder",t=s("#"+e);return t.length||(t=s("<div />").attr({id:e,style:"z-index: "+1e4}).prependTo("body")),t[0]},c=function(e){var t=e.offset(),r=e.outerWidth(),n=e.outerHeight();return{left_x:t.left,right_x:t.left+r,top_y:t.top,bottom_y:t.top+n,width:r,height:n}},_=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._centerAndShow=function(){var e=s(o.findDOMNode(t.refs.tooltip)),r=t.props.targetElementDimensions,n=c(e),i=s(window).scrollTop(),a=s(window).scrollLeft();if([u.TOP,u.BOTTOM].includes(t.props.position)){var l=s(window).width(),p=r.left_x+r.width/2-n.width/2-a;p<0?p=0:p+n.width>l&&(p=l-n.width-7),e.css("left",p+"px")}else if([u.LEFT,u.RIGHT].includes(t.props.position)){var _=s(window).height(),d=r.top_y+r.height/2-n.height/2-i;d<0?d=0:d+n.height>_&&(d=_-n.height-7),e.css("top",d+"px")}return e.show()},t}return r.__extends(t,e),t.prototype.render=function(){var e=this,t=this.props.targetElementDimensions,r=s(window),n=s(window).scrollTop(),o=s(window).scrollLeft(),i=(function(){switch(e.props.position){case u.TOP:return{bottom:r.height()-t.top_y+7+n};case u.BOTTOM:return{top:t.bottom_y+7-n};case u.LEFT:return{right:r.width()-t.left_x+7+o};case u.RIGHT:return{left:t.right_x+7-o};case u.BOTTOM_RIGHT:return{left:t.right_x-7-o,top:t.bottom_y+7-n}}})();return l.div({className:"tooltip-bubble "+(this.props.className||""),ref:"tooltip",style:i,onMouseMove:this.props.mouse_move_cb?this.props.mouse_move_cb:void 0,onMouseLeave:this.props.mouse_out_cb?this.props.mouse_out_cb:void 0},l.div({className:"tooltip-inner"},this.props.contents))},t.prototype.componentDidMount=function(){return this._centerAndShow()},t.prototype.componentDidUpdate=function(){return this._centerAndShow()},t.displayName="TooltipBubble",t.propTypes={position:n.PropTypes.oneOf((function(){var e=[];for(a in u)e.push(u[a]);return e})()),contents:n.PropTypes.oneOfType([n.PropTypes.element,n.PropTypes.string]),className:n.PropTypes.string,mouse_move_cb:n.PropTypes.func,mouse_out_cb:n.PropTypes.func,targetElementDimensions:n.PropTypes.shape({left_x:n.PropTypes.number,right_x:n.PropTypes.number,top_y:n.PropTypes.number,bottom_y:n.PropTypes.number,width:n.PropTypes.number,height:n.PropTypes.number})},t})(n.Component),d=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={visible:!1,event_id:i.uniqueId()},t._on_mouse_leave=function(e){return function(e){return t.props.hide_delay>0?t._scheduleHide(t.props.hide_delay):t._hide(e)}},t._render_tooltip=function(){var e=p();s("#tooltip-holder").css("position","fixed"),s("#tooltip-holder").css("left","0"),s("#tooltip-holder").css("right","0"),t.props.hide_delay>0&&s("#tooltip-holder").attr("data-event-id",t.state.event_id),t.props.position===u.TOP?(s("#tooltip-holder").css("top","auto"),s("#tooltip-holder").css("bottom","0")):(s("#tooltip-holder").css("top","0"),s("#tooltip-holder").css("bottom","auto"));var r=n.createElement(_,{position:t.props.position,contents:t.props.tooltip_contents,className:t.props.tooltip_classname,mouse_move_cb:t.props.interaction_enabled?t._clear_timeout:void 0,mouse_out_cb:t.props.interaction_enabled?t._on_mouse_leave():void 0,targetElementDimensions:c(s(o.findDOMNode(t.refs.tooltipTarget)))});return o.unmountComponentAtNode(e),o.render(r,e)},t._show=function(){if(!t.state.visible||t._last_timeout)return t._render_tooltip(),t.setState({visible:!0}),t.props.on_show&&t.props.on_show(),t._clear_timeout()},t._hide=function(){if(t.state.visible){var e=p();if(t._last_timeout){s(e).attr("data-event-id")===t.state.event_id&&(o.unmountComponentAtNode(e),t._clear_timeout())}else o.unmountComponentAtNode(e);return t.setState({visible:!1})}},t._scheduleHide=function(e){if(t.state.visible)return t._last_timeout=setTimeout(t._hide,e)},t._clear_timeout=function(){if(t._last_timeout)return clearTimeout(t._last_timeout),t._last_timeout=null},t}return r.__extends(t,e),t.prototype.render=function(){var e=this;return l.div({className:"tooltip-target",onMouseMove:function(t){return e._show(t)},onFocus:function(t){return e._show(t)},onMouseLeave:this._on_mouse_leave(),onBlur:this._on_mouse_leave(),id:this.state.tooltip_id,ref:"tooltipTarget",tabIndex:this.props.is_focusable?0:void 0},this.props.children)},t.prototype.componentDidMount=function(){var e=this;return s(document).bind("scroll."+this.state.event_id,function(t){return e._hide(t)})},t.prototype.componentDidUpdate=function(){if(this.state.visible)return this._render_tooltip()},t.prototype.componentWillUnmount=function(){s(document).unbind("scroll."+this.state.event_id);var e=p();return o.unmountComponentAtNode(e)},t.displayName="Tooltip",t.propTypes={position:n.PropTypes.oneOf((function(){var e=[];for(a in u)e.push(u[a]);return e})()),tooltip_contents:n.PropTypes.oneOfType([n.PropTypes.element,n.PropTypes.string]),tooltip_classname:n.PropTypes.string,hide_delay:n.PropTypes.number,interaction_enabled:n.PropTypes.bool,is_focusable:n.PropTypes.bool,on_show:n.PropTypes.func},t.defaultProps={interaction_enabled:!1,hide_delay:0},t})(n.Component);t.Tooltip=d}),define("modules/clean/react/util",["require","exports","external/react"],function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){if("string"==typeof e)return e;if("string"==typeof e.props)return e.props;if(e.props.text)return e.props.text;var t=[];return r.Children.forEach(e.props.children,function(e){return t.push(n(e))}),t.join("")};t.getText=n;var o=function(e,t,n){if(t(e))return n(e);var i=!1,s=[];return r.Children.forEach(e.props.children,function(e){var r=o(e,t,n);if(s.push(r),r!==e)return i=!0}),i?r.cloneElement(e,{},s):e};t.replaceSubtree=o;var i=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r={},n=[],o=0,i=Array.from(e);o<i.length;o++)for(var s=i[o],a=0,u=Object.keys(s||{});a<u.length;a++){var l=u[a],p=s[l];"className"===l?n.push(p):r[l]=p}return null!=n.length&&(r.className=n.join(" ")),r};t.mergeProps=i;var s=function(e,t){return new Promise(function(r,n){return e.setState(t,r)})};t.setStatePromise=s}),define("modules/clean/referrer_cleansing_redirect",["require","exports","external/sjcl","modules/core/browser","modules/core/cookies","modules/core/uri"],function(e,t,r,n,o,i){"use strict";function s(e){var t=i.parse(e).getScheme();if(t&&!["http","https"].includes(t))return"#";var r=new i({scheme:"https",authority:"www.dropbox.com",path:"/referrer_cleansing_redirect"});return r.setQuery({url:e,hmac:u(e)}),r}function a(e){n.redirect(s(e))}Object.defineProperty(t,"__esModule",{value:!0});var u=function(e){var t=r.codec.utf8String.toBits(o.read("__Host-js_csrf")),n=new r.misc.hmac(t),i=n.encrypt(e);return r.codec.base64.fromBits(i)};t.get_redirect_uri=s,t.redirect=a}),define("modules/core/user_i18n",["require","exports","modules/constants/page_load"],function(e,t,r){"use strict";function n(e){if(!e)return"";e=e.toUpperCase();var t=e.trim().split(" "),r=t[0],n=a(r),o=t[t.length-1],u=a(o);if(t.length>=2)return s()?u[0]+n[0]:n[0]+u[0];var l=a(e);return s()&&!i(e)&&l.length>1?l[0]+l[1]:l[0]}function o(e){if(!e)return"";var t=e.trim().split(" ");return t.length<2?e:s()?t[t.length-1][0]+" "+t[0]:t[0]+" "+t[t.length-1][0]}function i(e){for(var t=0;t<e.length;t++)if(e.charCodeAt(t)>=128)return!1;return!0}function s(){return["zh","ja","ko"].indexOf(r.USER_LOCALE)!==-1}function a(e){for(var t=[],r=e.length,n=0;n<r;){var o=e[n];if(o>="�"&&o<="�"){if(!(n<r-1))break;var i=e[n+1],s=o+i;t.push(s),n+=2}else t.push(o),n+=1}return t}Object.defineProperty(t,"__esModule",{value:!0}),t.getInitials=n,t.getShortName=o,t.isCjkLocale=s});
//# sourceMappingURL=pkg-modules-unneeded-for-home.min.js-vfl9ajyCt.map