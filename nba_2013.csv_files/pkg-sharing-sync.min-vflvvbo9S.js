define("modules/clean/avatar/triple_avatars",["require","exports","tslib","external/react","modules/clean/avatar/avatar_with_default","modules/clean/avatar/initials_avatar","modules/clean/avatar/overflow_count_pill","modules/clean/avatar/size","modules/clean/react/css","modules/core/user_i18n","modules/clean/ajax","modules/core/i18n"],function(e,t,n,o,r,a,s,i,l,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d=o.createElement,u=o.DOM,m=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getPropTypes=function(){return{contacts:o.PropTypes.arrayOf(o.PropTypes.shape({email:o.PropTypes.string,display_name:o.PropTypes.string,photo_url:o.PropTypes.string})),count:o.PropTypes.number}},t.getAvatar=function(e){return d(r,{dimension:i.AVATAR_DIMENSION_BY_SIZE.XLARGE,photoUrl:e.photo_url,defaultAvatar:d(a.InitialsAvatarWithColorDerivedFromName,{dimension:i.AVATAR_DIMENSION_BY_SIZE.XLARGE,shape:"CIRCLE",initials:c.getInitials(e.display_name),name:e.display_name})})},t}return n.__extends(t,e),t.prototype.render=function(){var e=this;if(this.props.contacts&&0!==this.props.contacts.length){var t=this.props.contacts.length;return this.props.count&&this.props.count>this.props.contacts.length&&(t=this.props.count),u.div({className:"triple-avatars-section"},this.getAvatar(this.props.contacts[0]),this.props.contacts.length>1?this.getAvatar(this.props.contacts[1]):void 0,(function(){return 3===t?e.getAvatar(e.props.contacts[2]):t>3?d(s,{dimension:i.AVATAR_DIMENSION_BY_SIZE.XLARGE,count:t-2}):void 0})())}return u.div({})},t.displayName="TripleAvatars",t})(o.Component),_=l(m,["/static/css/scooter/scooter-scoped-vflhQ6850.css"]);t.TripleAvatars=_}),define("modules/clean/multiaccount_login",["require","exports","jquery","modules/clean/dbmodal","modules/clean/teams/team_assume_user_personal_locked_modal","modules/clean/viewer","modules/core/browser","modules/core/controller_helpers","modules/core/exception","modules/core/i18n","modules/core/notify"],function(e,t,n,o,r,a,s,i,l,c,d){"use strict";return(function(){function e(){}return e.$element=function(){return n("#db-modal-multiaccount-login-modal")},e.set_during_login_callback=function(e){return l.assert(!this._during_login_callback,"already have a during_login_callback"),this._during_login_callback=e},e.show_modal=function(e){var t=this;void 0===e&&(e={});var r,u;if(a.Viewer.get_viewer().is_team_assume_user_session)return this.show_personal_account_disabled_modal();this.$element=n.isFunction(this.$element)?this.$element():this.$element,l.assert(null!=this.$element&&!!this.$element.length,"MultiaccountLogin needs its @$element to be set"),l.assert(!(null!=e.on_success&&null!=e.success_href),"on_success and success_href are mutually exclusive"),null!=e.user?u=e.user:null!=e.user_id?u=a.Viewer.get_viewer().get_user_by_id(e.user_id,!0):null!=e.role&&(u=a.Viewer.get_viewer().get_user_by_role(e.role,!0)),l.assert(null!=u,"invalid user");var m=u.role;l.assert(!a.Viewer.get_viewer().is_user_signed_in(u),"called MultiaccountLogin for a user that's already signed in"),r="personal"===m?c._("Sign in to your personal Dropbox"):c._("Sign in to your %(team_name)s Dropbox").format({team_name:a.Viewer.get_viewer().team_name});var _=this.$element.find("form");return i.get_controller(_).reset(),i.get_controller(_).set_input_value("login_email",u.email),this.auth_success_callback=function(){a.Viewer.get_viewer()._sign_in_all_users();var n=function(n){return null!=n?(d.error(n),a.Viewer.get_viewer()._sign_out_user_by_id(u.id),void t.modal.hide()):null!=e.success_href?s.get_uri().toString()!==e.success_href?s.redirect(e.success_href):s.reload():(t.modal.hide(),"function"==typeof e.on_success?e.on_success():void 0)};return null!=t._during_login_callback&&null==e.success_href?t._during_login_callback(u,n):n(),!1},n(document).off("db:multilogin:success"),n(document).on("db:multilogin:success",this.auth_success_callback),this.modal=new o.DBModal({element_id:"multiaccount-login-modal"}),this.modal.show(),this.modal.set_title(r),this.$element.find('input[name="login_password"]').focus()},e.show_page_login_modal=function(e){for(var t=a.Viewer.get_viewer(),n=null,o=0,r=Array.from(t.get_users(!0));o<r.length;o++){var s=r[o];if(!t.is_user_signed_in(s)){n=s;break}}if(n){var i={user:n};return"string"==typeof e?i.success_href=e:"function"==typeof e&&(i.on_success=e),this.show_modal(i),!1}},e.show_personal_account_disabled_modal=function(){var e=a.Viewer.get_viewer();return r.AssumePersonalLockedModal.show({displayName:e.display_name,teamName:e.team_name}),!1},e})()}),define("modules/clean/sharing/api/mount_client",["require","exports","modules/clean/api_v2/root_aware_client"],function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=(function(){function e(e){var t=e.userId;this.client=new n.UserActionsRootAwareClient,this.userId=t}return e.prototype.mount=function(e){var t=e.contentId;return this.client.ns("sharing").rpc("mount_folder",{shared_folder_id:String(t)},{subjectUserId:this.userId})},e})();t.MountFolderApiClient=o}),define("modules/clean/sharing/role_selector_modal",["require","exports","tslib","jquery","modules/clean/dbmodal","modules/clean/multiaccount_login","modules/clean/viewer"],function(e,t,n,o,r,a,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=(function(e){function t(t){var n=e.call(this,{element_id:"select-role-modal-sync"})||this;return n.onSelectRole=t,n}return n.__extends(t,e),t.prototype.on_show=function(){var e=this;return o(".role-options li").click(function(t){var n=o(t.target).closest("li").data("role");return e.hide(),s.Viewer.get_viewer().is_role_signed_in(n)?e.onSelectRole(n):a.show_modal({role:n,on_success:function(){return e.onSelectRole(n)}})})},t})(r.DBModal);t.RoleSelectorModal=i}),define("modules/clean/sharing/shared_content_link_sync_modal",["require","exports","tslib","external/classnames","external/react","modules/clean/analytics","modules/clean/avatar/triple_avatars","modules/clean/em_string","modules/clean/filepath","modules/clean/history","modules/clean/loggers/growth_features_events_logger","modules/clean/react/button","modules/clean/react/modal","modules/clean/react/sprite","modules/clean/react_format","modules/clean/sharing/constants","modules/clean/sharing/views/hover_close_button","modules/clean/static_urls","modules/clean/viewer","modules/clean/web_timing_logger","modules/constants/payments","modules/core/browser","modules/core/i18n","modules/core/uri"],function(e,t,n,o,r,a,s,i,l,c,d,u,m,_,p,g,f,v,h,y,w,b,N,E){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var T=N.i18n_default_project("sharing")._,k=(function(t){function N(n){var o=t.call(this,n)||this;return o.ASK="ask",o.ASKING="asking",o._closeSyncModal=function(){if(o.props.outOfQuotaQP){var e=void 0;o.props.canRequestToJoin?(e={is_limited:o.state.ownerTeam&&o.state.ownerTeam.is_limited,ns_id:o.props.syncNSId,requested_team_id:o.state.ownerTeam?o.state.ownerTeam.id:void 0},d.logMagnetEvent("request_modal_OQ_dismissed",e)):o.props.magnetControlLogging&&(e={ns_id:o.props.syncNSId},d.logMagnetEvent("modal_OQ_dismissed"))}c.remove_query_param("sm"),o.refs.modal.close()},o._renderTopPanelIcon=function(){return o.props.targetFile?r.createElement(_,{alt:"",group:"web",name:o.props.targetFile.icon}):r.createElement(_,{alt:"",group:"web",name:"folder_user_32"})},o._renderTopPanelTitle=function(){return o.props.targetFile?i.Emstring.em_snippet(l.filename(o.props.targetFile.fq_path),15):i.Emstring.em_snippet(o.props.folderName,15)},o._renderTopPanelSubtitle=function(){return o.props.targetFile?o.props.ownerName?T("Owned by %(name)s").format({name:o.props.ownerName}):T("Not currently owned"):o.props.folderSize},o._renderAccessText=function(){return o.props.outOfQuotaQP?o.props.canRequestToJoin?o.state.ownerTeam?r.createElement("div",null,r.createElement("div",{className:"content-link-sync-modal__access-text u-mar-top-m"},r.createElement(s.TripleAvatars,{contacts:o.state.ownerTeam.contacts,count:o.state.ownerTeam.count})),r.createElement("div",{className:"content-link-sync-modal__access-text"},T("Your Dropbox is fullâ€”join the %(team_name)s Dropbox?").format({team_name:o.state.ownerTeam.name}))):r.createElement("div",null):r.createElement("div",{className:"content-link-sync-modal__access-text"},T("Not enough space")):r.createElement("div",{className:"content-link-sync-modal__access-text"},o.props.senderName?"can_view"===o.props.accessLevel?o.user.is_cdm_member?T("%(name)s invited you to view this folder").format({name:o.props.senderName}):T("%(name)s gave you access to view this folder").format({name:o.props.senderName}):o.user.is_cdm_member?T("%(name)s invited you to edit this folder").format({name:o.props.senderName}):T("%(name)s gave you access to edit this folder").format({name:o.props.senderName}):T("can_view"===o.props.accessLevel?"You have access to view this folder":"You have access to edit this folder"))},o._renderSharedFolderInfo=function(){return r.createElement("div",{className:"content-link-sync-modal__shared-folder-info"},r.createElement("div",{className:"content-link-sync-modal__shared-folder-text"},T((o.props.targetFile?o.props.targetFile.is_dir:void 0)?"This folder is part of a shared folder:":"This file is part of a shared folder:")),r.createElement("div",null,r.createElement(_,{alt:"",group:"web",name:"folder_user_32"})),r.createElement("p",{className:"u-font-meta"},o.props.folderName,r.createElement("br",null),o.props.folderSize))},o._renderTipBody=function(e){return o.props.outOfQuotaQP?o.props.canRequestToJoin?o.state.ownerTeam?o.state.ownerTeam.contacts.length>0?T("Join %(name)s and your coworkers and get more space to work together.").format({name:o.state.ownerTeam.contacts[0].display_name}):null:r.createElement("img",{className:"content-link-sync-modal__loader",src:v.static_url("/static/images/icons/ajax-loading-small-vfl3Wt7C_.gif"),alt:T("Loading")}):o.props.usageRemaining?T("To add this folder, youâ€™ll need %(needed)s of space in your Dropbox. You currently have %(remaining)s of space left.").format({remaining:o.props.usageRemaining,needed:o.props.usageNeeded}):T("To add this folder, youâ€™ll need %(needed)s of space in your Dropbox. You currently have no space left.").format({needed:o.props.usageNeeded}):o.state.state===o.ASKING?r.createElement("img",{src:v.static_url("/static/images/icons/ajax-loading-small-vfl3Wt7C_.gif"),alt:T("Loading")}):!o.props.targetFile&&o.user.is_cdm_member?p.reactFormat(T("To get started, add this to <strong>%(cdm_tmf_name)s</strong> (your member folder). <a>Learn more</a>"),{cdm_tmf_name:e,strong:r.createElement("span",{className:"u-font-strong"}),a:r.createElement("a",{href:"/help/business/team-space-overview#acceptfolder",target:"_blank",rel:"noopener noreferrer"})}):T("can_view"===o.props.accessLevel?o.props.targetFile?"For easy access to this file in the future, add the folder to your Dropbox.":"For easy access to this folder in the future, add it to your Dropbox.":o.props.targetFile?"To start working on this file, you need to add the folder to your Dropbox first.":"To start working on this folder, you need to add it to your Dropbox first.")},o._renderPreviewLink=function(){return"can_view"===o.props.accessLevel?r.createElement("div",null,r.createElement("span",{className:"content-link-sync-modal__or"},T("Or")),r.createElement("button",{className:"content-link-sync-modal__not-now-label button-as-link",onClick:o.onPreviewButtonClicked},T(!o.props.targetFile||o.props.targetFile.is_dir?"preview this folder":"preview this file"))):null},o.renderControl=function(e){return r.createElement("div",{className:"content-link-sync-modal__content u-mar-bottom-xs"},r.createElement("div",{className:"content-link-sync-modal__top-panel u-pad-s"},r.createElement("div",{className:"content-link-sync-modal__icon u-pad-top-xs"},o._renderTopPanelIcon()),r.createElement("div",{className:"content-link-sync-modal__name-size u-l-ib u-pad-left-xs u-pad-top-xs o-flag__flex"},r.createElement("h3",{className:"u-font-strong"},o._renderTopPanelTitle()),r.createElement("h4",{className:"u-trim-margin u-font-meta"},o._renderTopPanelSubtitle())),r.createElement("div",{className:"content-link-sync-modal__close u-pad-xs o-flag__fix"},r.createElement(f,{onClick:o._closeSyncModal}))),r.createElement("div",{className:"content-link-sync-modal__tip-panel"},o.props.targetFile?o._renderSharedFolderInfo():o._renderAccessText(),r.createElement("div",{className:"content-link-sync-modal__tip-body"},o._renderTipBody(e))))},o.renderVariant=function(){var e;return e=o.props.usageRemaining&&o.props.usageRemaining>"0"?p.reactFormat(T("To add this folder, youâ€™ll need <strong>%(needed)s</strong> of space in your Dropbox. You currently have <span>%(remaining)s</span> of space left."),{strong:r.createElement("strong",null),span:r.createElement("span",{className:"content-link-sync-modal__alert"}),remaining:o.props.usageRemaining,needed:o.props.usageNeeded}):p.reactFormat(T("To add this folder, youâ€™ll need <strong>%(needed)s</strong> of space in your Dropbox. You currently have no space left."),{strong:r.createElement("strong",null),needed:o.props.usageNeeded}),r.createElement("div",{className:"content-link-sync-modal--pro-variant__content u-mar-bottom-xs"},r.createElement("div",{className:"content-link-sync-modal--pro-variant__close u-pad-xs u-font-right"},r.createElement(f,{onClick:o._closeSyncModal})),r.createElement("div",{className:"content-link-sync-modal--pro-variant__container"},r.createElement("div",{className:"content-link-sync-modal--pro-variant__left-container"},r.createElement("div",{className:"content-link-sync-modal--pro-variant__content"},r.createElement("div",{className:"content-link-sync-modal--pro-variant__folder-name"},i.Emstring.em_snippet(o.props.folderName,g.SNIPPET_SIZES.OUT_OF_QUOTA_FOLDER_NAME)))),r.createElement("div",{className:"content-link-sync-modal--pro-variant__right-container"},r.createElement("div",{className:"content-link-sync-modal--pro-variant__tip-title"},T("Not enough space")),r.createElement("div",{className:"content-link-sync-modal--pro-variant__tip-body"},e))))},o.renderButtons=function(e){return o.props.canRequestToJoin&&o.props.outOfQuotaQP?o.state.ownerTeam?r.createElement("div",{className:"content-link-sync-modal__buttons u-mar-bottom-s"},o.props.outOfQuotaQP?r.createElement("div",null,o.state.ownerTeam.is_limited?void 0:r.createElement(u.button,{importance:"primary",className:"content-link-sync-modal__request-to-join-button",disabled:o.state.state===o.ASKING,onClick:o.onRequestButtonClicked},T("Request to join")),r.createElement(u.button,{importance:o.state.ownerTeam.is_limited?"primary":"tertiary",className:"content-link-sync-modal__add-to-dropbox-button",disabled:o.state.state===o.ASKING,onClick:o.onSyncButtonClicked},T("Upgrade to add folder")),"can_view"===o.props.accessLevel?o._renderPreviewLink():void 0):void 0):r.createElement("div",null):r.createElement("div",{className:"content-link-sync-modal__buttons u-mar-bottom-s"},r.createElement(u.button,{importance:"primary",className:"content-link-sync-modal__add-to-dropbox-button",disabled:o.state.state===o.ASKING,onClick:o.onSyncButtonClicked},o.props.outOfQuotaQP?T("Upgrade to add folder"):o.props.targetFile?o.user.is_cdm_member?o.getButtonTextForCDM(e):T("Add folder to Dropbox"):o.user.is_cdm_member?o.getButtonTextForCDM(e):T("Add to Dropbox")),"can_view"===o.props.accessLevel?o._renderPreviewLink():void 0)},o.getButtonTextForCDM=function(e){return o.props.targetFile?e.length>9?T("Add folder to my member folder"):p.reactFormat(T("Add folder to <strong>%(cdm_tmf_name)s</strong> folder"),{cdm_tmf_name:e,strong:r.createElement("strong",{style:{fontWeight:800}})}):e.length>12?T("Add to my member folder"):p.reactFormat(T("Add to <strong>%(cdm_tmf_name)s</strong> folder"),{cdm_tmf_name:e,strong:r.createElement("strong",{style:{fontWeight:800}})})},o.renderButtonsVariant=function(){return r.createElement("div",{className:"content-link-sync-modal--pro-variant__buttons"},r.createElement(u.button,{importance:"primary",className:"content-link-sync-modal--pro-variant__add-to-dropbox-button",disabled:o.state.state===o.ASKING,onClick:o.onSyncButtonClicked},T("Upgrade to add folder")))},o.requestCallback=function(){if(o.props.outOfQuotaQP){var e=void 0;o.props.canRequestToJoin?(e={is_limited:o.state.ownerTeam?o.state.ownerTeam.is_limited:void 0,ns_id:o.props.syncNSId,requested_team_id:o.state.ownerTeam?o.state.ownerTeam.id:void 0},d.logMagnetEvent("request_modal_OQ_click_upgrade",e)):o.props.magnetControlLogging&&(e={ns_id:o.props.syncNSId},d.logMagnetEvent("modal_OQ_CTA_click",e));var t=o.props.outOfQuotaQP,n="wb_nq_shm_share_w"===t||"wb_nq_shm_share_ro"===t?w.LOW_SPACE_URL:w.OUT_OF_SPACE_URL,r=new E({path:n}).updateQuery({oqa:o.props.outOfQuotaQP});b.redirect(r.toString())}else o.props.targetFile&&a.ShareTibEventLogger.log(o.props.activeUserId,"UNMOUNTED_SEARCH_SYNC","SYNC_MODAL",{ns_id:o.props.syncNSId}),o.props.onMountSharedFolder(),o.setState({state:o.ASK})},o.onSyncButtonClicked=function(){o.setState({state:o.ASKING}),o.props.canRequestToJoin&&!o.props.outOfQuotaQP?o.activateRequestModal():o.requestCallback()},o.onPreviewButtonClicked=function(){if(o.props.previewCallback)a.ShareTibEventLogger.log(o.props.activeUserId,"UNMOUNTED_SEARCH_PREVIEW","SYNC_MODAL",{ns_id:o.props.syncNSId}),o.props.previewCallback();else{var e=o.props.previewUrl?E.parse(o.props.previewUrl):b.get_uri().removeQuery("sm");e.updateQuery({from_sync_modal:!0}),b.redirect(e)}},o.onRequestButtonClicked=function(){o.setState({state:o.ASKING}),e(["modules/clean/teams/membership_discovery_util"],function(e){(0,e.sendTeamRequest)(o.state.ownerTeam.id,function(){return m.Modal.close()})});var t=h.Viewer.get_viewer().personal_user,n=t&&t.paid?"plus":"basic",r={folder_size:o.props.usageNeeded,is_limited:o.state.ownerTeam?o.state.ownerTeam.is_limited:void 0,ns_id:o.props.syncNSId,receiver_plan_type:n,receiver_quota_remaining:o.props.usageRemaining,requested_team_id:o.state.ownerTeam?o.state.ownerTeam.id:void 0};d.logMagnetEvent("request_modal_OQ_CTA_click",r)},o.activateRequestModal=function(){o.props.canRequestToJoin&&e(["modules/clean/teams/membership_request_modal"],function(e){var t=e.MembershipRequestModal;m.Modal.showInstance(r.createElement(t,{folderName:i.Emstring.em_snippet(o.props.folderName,15),nsId:o.props.syncNSId,overQuotaQP:null!=o.props.outOfQuotaQP,quotaNeeded:o.props.usageNeeded,quotaRemaining:o.props.usageRemaining,requestCallback:o.requestCallback,senderName:o.props.senderName,team:o.state.ownerTeam}))})},o.state={state:o.ASK},o}return n.__extends(N,t),N.showInstance=function(e){m.Modal.showInstance(e)},N.prototype.componentWillMount=function(){var e=y.start_time(),t=(new Date).getTime();this.user=h.Viewer.get_viewer().get_user_by_id(this.props.activeUserId);var n=g.SHARE_ACTION_ORIGIN_TYPE.SYNC_MODAL,o=this.props.targetFile?"UNMOUNTED_SEARCH_MODAL_RENDER":"SYNC_MODAL_RENDER";a.ShareTibEventLogger.log(this.props.activeUserId,o,n,{timing:t-e,ns_id:this.props.syncNSId})},N.prototype.render=function(){var e,t,n,a=o({"content-link-sync-modal":!0,"can-request-to-join-team":this.props.canRequestToJoin});return this.user.is_cdm_member&&(n=l.filename(this.user.cdm_tmf_path)),t=this.renderControl(n),e=this.renderButtons(n),r.createElement(m.Modal,{autoClose:!1,buttonComponent:e,className:a,clickOutToClose:!1,ref:"modal",showX:!1,title:""},t)},N.prototype.componentDidMount=function(){var t,n=this;y.mark_time_to_interactive();var o=h.Viewer.get_viewer().personal_user,r=o&&o.paid?"plus":"basic";this.props.canRequestToJoin&&(e(["modules/clean/teams/membership_discovery_util"],function(e){var t=e.getDiscoverableTeamForFolder;n.setState({state:n.ASKING}),t(n.props.syncNSId,function(e){n.setState({state:n.ASK,ownerTeam:e})})}),this.props.outOfQuotaQP&&(t={folder_size:this.props.usageNeeded,is_limited:this.state.ownerTeam?this.state.ownerTeam.is_limited:void 0,ns_id:this.props.syncNSId,receiver_plan_type:r,receiver_quota_remaining:this.props.usageRemaining,requested_team_id:this.state.ownerTeam?this.state.ownerTeam.id:void 0},d.logMagnetEvent("request_modal_OQ_open",t))),this.props.magnetControlLogging&&this.props.outOfQuotaQP&&(t={folder_size:this.props.usageNeeded,ns_id:this.props.syncNSId,receiver_plan_type:r,receiver_quota_remaining:this.props.usageRemaining},d.logMagnetEvent("modal_OQ_open",t))},N.displayName="SharedContentLinkSyncModal",N.defaultProps={canRequestToJoin:!1,magnetControlLogging:!1},N})(r.Component);t.SharedContentLinkSyncModal=k}),define("modules/clean/sharing/shared_content_link_sync_utils",["require","exports","external/react","modules/clean/browse_interface","modules/clean/multiaccount_login","modules/clean/sharing/api/mount_client","modules/clean/sharing/role_selector_modal","modules/clean/sharing/shared_content_link_sync_modal","modules/clean/sharing/ui_notifications_util","modules/clean/viewer","modules/core/browser","modules/core/exception","modules/core/i18n"],function(e,t,n,o,r,a,s,i,l,c,d,u,m){"use strict";function _(e,t,n,i,m){void 0===i&&(i=!1),void 0===m&&(m=null);var p;if(t)c.Viewer.get_viewer().is_role_signed_in(t)||r.show_modal({role:t,on_success:function(){_(e,t,n)}});else if(c.Viewer.get_viewer().is_paired){var f=function(t){n="PREVIEW_PAGE",_(e,t,n)};new s.RoleSelectorModal(f).show()}var v=c.Viewer.get_viewer();if(t){var h=v.get_uid_by_role(t);u.assert(!!h,"selected role should have corresponding uid"),p=h?h:-1}else u.assert(!v.is_paired,"role can not be unspecified for paired viewer"),p=v.get_user_ids()[0];var y=g("Adding to your Dropbox...");v.is_paired&&(v.get_user_by_id(p).is_team?(y=g("Adding to your %(team_name)s Dropbox..."),y=y.format({team_name:v.team_name})):y=g("Adding to your personal Dropbox...")),l.sharingNotificationSuccess(y);var w=function(e){var t=e;m&&(t+=m.ns_path);var n=c.Viewer.get_viewer().get_user_by_id(p),r=o.browse_uri_for_fq_path(n,t),a=i?"1":"0";r.updateQuery({from_scl_sync_modal:a}),d.redirect(r.toString())};new a.MountFolderApiClient({userId:p}).mount({contentId:e}).then(function(e){return w(e.path_lower)}).catch(function(e){e&&e.error&&"insufficient_quota"===e.error[".tag"]?l.sharingNotificationError(g("Canâ€™t add folder. Your Dropbox account is full.")):l.sharingNotificationError(g("We were unable to complete your request."))})}function p(e,t,o){if(void 0===o&&(o=null),t&&t.sync_ns_id){var r=t.sync_owner_name||t.ownerName,a=function(){return _(t.sync_ns_id,t.sync_role,"SYNC_MODAL",!0,o)};i.SharedContentLinkSyncModal.showInstance(n.createElement(i.SharedContentLinkSyncModal,{activeUserId:e,accessLevel:t.access_level,canRequestToJoin:t.can_request_to_join,folderName:t.sync_folder_name,folderSize:t.sync_folder_size,magnetControlLogging:t.magnet_control,outOfQuotaQP:t.sync_out_of_quota_qp,usageRemaining:t.sync_usage_remaining,usageNeeded:t.sync_usage_needed,senderName:t.sync_sender_name,ownerName:r,targetFile:o,previewCallback:null!=o?d.redirect.bind(d,t.sync_preview_url):void 0,previewUrl:t.sync_preview_url,onMountSharedFolder:a,syncNSId:t.sync_ns_id,ownerProfilePhotoUrl:t.ownerProfilePhotoUrl}))}}Object.defineProperty(t,"__esModule",{value:!0});var g=m.i18n_default_project("sharing")._;t.mountSharedFolder=_,t.showSharedContentSyncModal=p}),define("modules/clean/teams/team_assume_user_personal_locked_modal",["require","exports","tslib","external/react","modules/clean/react/modal","modules/core/i18n"],function(e,t,n,o,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=o.DOM,i=o.createElement,l=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._close=function(e){return e.preventDefault(),r.Modal.close()},t._getModalProps=function(){return{title:a._("Personal account not accessible"),acceptButtonText:a._("Close"),dismissButtonText:null,onAccept:t._close}},t}return n.__extends(t,e),t.show=function(e){return r.Modal.showInstance(i(t,e))},t.prototype.render=function(){return i(r.Modal,this._getModalProps(),s.div({className:"team-assume-user-modal"},a._("%(display_name)sâ€™s personal account isnâ€™t managed by the %(team_name)s team, so its contents arenâ€™t accessible to admins.").format({display_name:this.props.displayName,team_name:this.props.teamName})))},t.displayName="AssumePersonalLockedModal",t.propTypes={displayName:o.PropTypes.string,teamName:o.PropTypes.string},t})(o.Component);t.AssumePersonalLockedModal=l});
//# sourceMappingURL=pkg-sharing-sync.min.js-vflAVa0Ov.map