define([],function(){return(function(e){function t(e,t){for(var n=e.length;n--;)if(e[n]===t)return n;return-1}function n(e){var n,o,r,l,a,c;if(o=e.target||e.srcElement,o.tagName,n=e.keyCode,93!=n&&224!=n||(n=91),n in v){v[n]=!0;for(l in w)w[l]==n&&(i[l]=!0)}else if(i.filter.call(this,e)&&n in k)for(originalScope=b,a=0;a<k[n].length;a++)if(r=k[n][a],r.scope==originalScope||"all"==r.scope){c=r.mods.length>0;for(l in v)(!v[l]&&t(r.mods,+l)>-1||v[l]&&t(r.mods,+l)==-1)&&(c=!1);(0!=r.mods.length||v[16]||v[18]||v[17]||v[91])&&!c||r.method(e,r)===!1&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0))}}function o(e){var t,n=e.keyCode;if(93!=n&&224!=n||(n=91),n in v){v[n]=!1;for(t in w)w[t]==n&&(i[t]=!1)}}function r(){for(m in v)v.hasOwnProperty(m)&&(v[m]=!1)}function i(e,t,n){var o,r,i,l;for(void 0===n&&(n=t,t="all"),e=e.replace(/\s/g,""),o=e.split(","),""==o[o.length-1]&&(o[o.length-2]+=","),i=0;i<o.length;i++){if(r=[],e=o[i].split("+"),e.length>1){for(r=e.slice(0,e.length-1),l=0;l<r.length;l++)r[l]=w[r[l]];e=[e[e.length-1]]}e=e[0],e=E[e]||e.toUpperCase().charCodeAt(0),e in k||(k[e]=[]),k[e].push({shortcut:o[i],scope:t,method:n,key:o[i],mods:r})}}function l(e){b=e||"all"}function a(){return b}function c(e){for(var t in k)if(k.hasOwnProperty(t))for(var n=0;n<k[t].length;n++)k[t][n].scope===e&&(k[t].splice(n,1),n-=1)}function f(e){var t=e.replace(/\s/g,""),n=t.split(",");return""==n[n.length-1]&&(n[n.length-2]+=","),n}function u(e){for(var t=e.slice(0,e.length-1),n=0;n<t.length;n++)t[n]=w[t[n]];return t}function d(e,t){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function s(e,t,n){var o,r,i,l,c,s,p=[];for(r=f(e),c=0;c<r.length;c++){if(i=r[c].split("+"),i.length>1&&(p=u(i)),o=i[i.length-1],o=C(o),void 0===t&&(t=a()),!k[o])return;for(l=0;l<k[o].length;l++)s=k[o][l],s.scope===t&&d(s.mods,p)&&(n&&s.method!==n||(k[o][l]={}))}}function p(e){var t=e.target||e.srcElement,n=t.tagName,o=e.keyCode,r=t.hasAttribute&&t.hasAttribute("contenteditable")&&"false"!=t.getAttribute("contenteditable").toLowerCase()||"undefined"!=typeof jest&&"true"==t.contentEditable;return!(("INPUT"==n||"SELECT"==n||"TEXTAREA"==n||r)&&["submit","button"].indexOf(t.type)==-1&&o!=E.escape&&o!=E.tab)}function h(){i.filter=p}function g(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,function(){n(window.event)})}function y(){k={},l(),r()}if(window.key)return e.key=window.key,void("undefined"!=typeof module&&(module.exports=e.key));var m,k={},v={16:!1,18:!1,17:!1,91:!1},b="all",w={"⇧":16,shift:16,"⌥":18,alt:18,option:18,"⌃":17,ctrl:17,control:17,"⌘":91,command:91},E={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220},C=function(e){return E[e]||e.toUpperCase().charCodeAt(0)};for(m=1;m<20;m++)E["f"+m]=111+m;for(m in w)i[m]=!1;g(document,"keydown",n),g(document,"keyup",o),g(window,"focus",r),g(document,"contextmenu",r),e.key=i,e.key.setScope=l,e.key.getScope=a,e.key.clear=y,e.key.clearScope=c,e.key.filter=p,e.key.resetFilter=h,e.key.unbind=s,"undefined"!=typeof module&&(module.exports=e.key),window.key=e.key})(this),this.key}.bind(Object.create(null)));
//# sourceMappingURL=keymaster.min.js-vflks5ohe.map