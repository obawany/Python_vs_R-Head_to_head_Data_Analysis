define("modules/clean/photos/thumb_loading/generic_thumb_store",["require","exports","modules/clean/photos/thumb_loading/http2_thumb_loader","modules/core/exception"],function(e,t,o,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(function(){function e(e,t){this.loaderBatches=!1,this.thumbUrlToData={},this.callbackByRequestId={},this.loaderBatches=!!t,this.thumbLoader=e?e:new o.Http2ThumbLoader}return e.prototype.is_batching=function(){return this.loaderBatches},e.prototype.bind_url=function(e,t){var o=this;if(r.assert(!!t.onSuccess,"missing onSuccess handler"),this.thumbUrlToData[e])return t.onRequest&&t.onRequest(!0),t.onSuccess(!0),null;var n=this.thumbLoader.get_request_id();this.callbackByRequestId[n]=t;var i=function(){var e=o.callbackByRequestId[n];e&&e.onRequest&&e.onRequest(!1)},a=function(t){o.thumbUrlToData[e]=t;var r=o.callbackByRequestId[n];r&&r.onSuccess(!1)},l=function(){var e=o.callbackByRequestId[n];e&&e.onError&&e.onError()},s=function(){return o.callbackByRequestId.hasOwnProperty(n)};return this.thumbLoader.load_image(e,n,i,a,l,s),n},e.prototype.unbind_url=function(e){e&&(delete this.callbackByRequestId[e],this.thumbLoader.cancel_thumb(e))},e.prototype.get_thumb=function(e){return this.thumbUrlToData[e]?this.thumbUrlToData[e]:null},e})();t.GenericThumbStore=n}),define("modules/clean/photos/thumb_loading/http2_thumb_loader",["require","exports","modules/clean/photos/thumb_loading/utils"],function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(function(){function e(){this.http2RequestId=0}return e.prototype.get_request_id=function(){return this.http2RequestId+=1,this.http2RequestId.toString()},e.prototype.load_image=function(e,t,r,n,i,a){r(),o.load_individual_image(e,1,n,i,a)},e.prototype.cancel_thumb=function(e){},e})();t.Http2ThumbLoader=r}),define("modules/clean/photos/thumb_loading/utils",["require","exports"],function(e,t){"use strict";function o(e,t,o,r,n){var i=new Image;i.onload=function(){return o(e)},i.onerror=function(){t>0&&n()?(t-=1,i.src=e):r()},i.src=e}Object.defineProperty(t,"__esModule",{value:!0}),t.load_individual_image=o}),define("modules/clean/react/file_uploader/file_uploader",["require","exports","tslib","external/react","modules/core/exception"],function(e,t,o,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=null,a=(function(t){function a(e){var o=t.call(this,e)||this;return o.handleAllFileUploadsComplete=function(e){e.find(function(e){return!!o.state.uploadErrorTypes&&e.errorType===o.state.uploadErrorTypes.OVER_QUOTA_ERROR})&&!o.isPaidTeamViewer()&&a.showModal("out-of-quota"),o.props.onAllFileUploadsComplete&&o.props.onAllFileUploadsComplete(e)},o.path=o.props.initialPath?o.props.initialPath:"/",o.hasPermissionToUploadToFolder=!!o.props.initialPermission,o.state={fileUploader:void 0,uploaderStore:void 0,uploaderActions:void 0,viewer:void 0,uploadErrorTypes:void 0},o.props.loadOnRender&&a.requireFileUploader({}),i?n.reportStack("Only one FileUploader component may be rendered to the page at any time.You have tried to instantiate multiple uploaders.",{severity:n.SEVERITY.CRITICAL}):i=o,o}return o.__extends(a,t),a.requireFileUploader=function(t){var o=t.modalType,r=t.handleUploadButtonClick,n=function(e,t,n,l,s){i&&(i.setAsyncRequiredUploaderModules(e,n,t,l.Viewer,s),o&&a.showModal(o),r&&a.handleUploadButtonClick())};n.perfName="file_uploader",e(["modules/clean/react/file_uploader/uploader_new","modules/clean/react/file_uploader/store","modules/clean/react/file_uploader/actions","modules/clean/viewer","modules/clean/react/file_uploader/constants"],n)},a.prototype.setAsyncRequiredUploaderModules=function(e,t,o,r,n){var i=e.FileUploader,a=o.UploaderStore,l=t.UploaderActions,s=n.UploadErrorTypes;this.setState({fileUploader:i,uploaderStore:a,uploaderActions:l,viewer:r,uploadErrorTypes:s}),this.props.needToSetStoreValues&&(void 0!==this.user&&l.setUser({user:this.user}),l.setPath({path:this.path,hasPermissionToUploadToFolder:this.hasPermissionToUploadToFolder}))},a.prototype.componentWillUnmount=function(){i=null},a.loadCoreComponent=function(){i&&i.state.fileUploader||(e.defined("modules/clean/react/file_uploader/uploader"),a.requireFileUploader({}))},a.isCoreComponentDefined=function(){return!!i&&!!i.state.fileUploader},a.setPathAndPermissions=function(e){i&&i.state.uploaderActions&&i.state.uploaderActions.setPath(e)},a.setPath=function(e){i&&(i.state.uploaderActions?i.state.uploaderActions.setPath({path:e}):(e||(e="/"),i.path=e))},a.setUser=function(e){i&&(i.state.uploaderActions?i.state.uploaderActions.setUser({user:e}):i.user=e?e:void 0)},a.showModal=function(e){i&&(i.refs.fileUploader?e&&"regular"!==e?"out-of-quota"===e?i.refs.fileUploader.showOOQModal():"team-onboarding"===e&&i.refs.fileUploader.showModalWithTeamOnboarding():i.refs.fileUploader.showModal():(e=e||"regular",a.requireFileUploader({modalType:e})))},a.handleUploadButtonClick=function(){i&&(i.refs.fileUploader?i.refs.fileUploader.handleUploadButtonClick():a.requireFileUploader({handleUploadButtonClick:!0}))},a.isDraggingFilesHelper=function(e){if(!i)return!1;if(!i.state.uploaderStore)return!1;var t=i.state.uploaderStore;return!!t.numDraggingFiles()&&(e?t.isInternalTransfer():!t.isInternalTransfer())},a.isDraggingInternalFiles=function(){return a.isDraggingFilesHelper(!0)},a.isDraggingExternalFiles=function(){return a.isDraggingFilesHelper(!1)},a.isUploadModalOpen=function(){return!!i&&(!!i.state.uploaderStore&&i.state.uploaderStore.isUploadModalOpen())},a.prototype.isPaidTeamViewer=function(){return!(!this.user||!this.state.viewer||!this.user.is_team||this.state.viewer.get_viewer().team_is_limited)},a.prototype.render=function(){if(!this.state.fileUploader)return r.createElement("div",null);var e=this.props,t=e.browseViewType,o=e.isContentManager,n=e.ajaxInterceptor,i=e.onFileUploadComplete,a=e.onModalDismissed,l=e.clickOutToClose,s=e.dragAndDropEnabled,u=e.shouldShowDestinationLink,d=e.expShouldCheckFSWs,p=e.chooseDestination,c=this.state.fileUploader;return r.createElement(c,{ref:"fileUploader",key:1,browseViewType:t,isContentManager:o,ajaxInterceptor:n,onFileUploadComplete:i,onAllFileUploadsComplete:this.handleAllFileUploadsComplete,onModalDismissed:a,clickOutToClose:l,dragAndDropEnabled:s,shouldShowDestinationLink:u,expShouldCheckFSWs:d,chooseDestination:p})},a})(r.Component);t.FileUploaderController=a}),define("modules/clean/react/file_uploader/upload_button",["require","exports","tslib","external/spectrum/button","external/spectrum/tertiary_link","external/react"],function(e,t,o,r,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.renderPrimaryButton=function(){return i.createElement(r.Button,{className:this.props.className,disabled:this.props.disabled,onClick:this.props.handleClick,variant:"primary"},this.props.children)},t.prototype.renderTertiaryLink=function(){return i.createElement(n.TertiaryLink,{icon:this.props.iconName,onClick:this.props.handleClick,disabled:this.props.disabled,className:this.props.className},this.props.children)},t.prototype.renderCMButton=function(){return i.createElement("button",{className:this.props.className,disabled:this.props.disabled,onClick:this.props.handleClick},this.props.children)},t.prototype.render=function(){return"popover"===this.props.variant?null:"primary"===this.props.variant?this.renderPrimaryButton():"CM"===this.props.variant?this.renderCMButton():this.renderTertiaryLink()},t})(i.PureComponent);t.UploadButton=a}),define("modules/clean/sharing/wizard/async_wizard_modals",["require","exports"],function(e,t){"use strict";function o(t){e(["modules/clean/sharing/wizard/wizard_modals"],t)}function r(e,t,r,n){o(function(o){o.shareExistingFolder(e,t,r,n)})}function n(e,t){o(function(o){var r=o.showShareAFolderWizardModal(e);t&&t(r)})}Object.defineProperty(t,"__esModule",{value:!0}),t.asyncShareExistingFolder=r,t.asyncShowShareAFolderWizardModal=n});
//# sourceMappingURL=pkg-browse-core.min.js-vflE2ZMWG.map