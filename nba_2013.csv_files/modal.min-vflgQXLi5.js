define(["require","exports","tslib","external/react","modules/clean/analytics","modules/clean/em_string","modules/clean/react/copy_to_dropbox/actions","modules/clean/react/modal","modules/clean/viewer","modules/core/i18n","modules/core/notify"],function(e,o,t,r,a,n,s,i,l,p,m){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var d=(function(e){function o(){var o=null!==e&&e.apply(this,arguments)||this;return o.handleAccept=function(){var e=o.getProgressMessage();m.success(e),s.copySharedFile(o.props.shareToken,o.props.userId,e)},o}return t.__extends(o,e),o.prototype.componentDidMount=function(){a.WebMiscActivityLogger.log("show-c2d-modal",{filename:this.props.fileOrFolder.filename})},o.prototype.getTitle=function(){var e,o=l.Viewer.get_viewer(),t=this.props.fileOrFolder.filename;if(o.is_paired)switch(this.props.role){case"personal":return e=10,t=n.Emstring.em_snippet(t,e),p._("Save ‘%(filename)s’ to my personal Dropbox").format({filename:t});case"work":var r=o.team_name,a=new n.Emstring(r||"").length;return e=Math.max(10,15-a),t=n.Emstring.em_snippet(t,e),p._("Save ‘%(filename)s’ to my %(team_name)s Dropbox").format({filename:t,team_name:r})}return e=15,t=n.Emstring.em_snippet(t,e),p._("Save ‘%(filename)s’ to my Dropbox").format({filename:t})},o.prototype.getBodyText=function(){var e=l.Viewer.get_viewer();if(e.is_paired)switch(this.props.role){case"personal":return this.props.fileOrFolder.is_dir?p._("This folder will be instantly saved to your personal Dropbox and downloaded to all the computers linked to your personal account."):p._("This file will be instantly saved to your personal Dropbox and downloaded to all the computers linked to your personal account.");case"work":return this.props.fileOrFolder.is_dir?p._("This folder will be instantly saved to your %(team_name)s Dropbox and downloaded to all the computers linked to your %(team_name)s account.").format({team_name:e.team_name}):p._("This file will be instantly saved to your %(team_name)s Dropbox and downloaded to all the computers linked to your %(team_name)s account.").format({team_name:e.team_name})}return this.props.fileOrFolder.is_dir?p._("This folder will be instantly saved to your Dropbox and downloaded to all the computers linked to your account."):p._("This file will be instantly saved to your Dropbox and downloaded to all the computers linked to your account.")},o.prototype.getProgressMessage=function(){var e=l.Viewer.get_viewer();if(e.is_paired)switch(this.props.role){case"personal":return p._("Saving to your personal Dropbox...");case"work":return p._("Saving to your %(team_name)s Dropbox...").format({team_name:e.team_name})}return p._("Saving to your Dropbox...")},o.prototype.render=function(){return r.createElement(i.Modal,{title:this.getTitle(),acceptButtonText:p._("Save"),dismissButtonText:p._("Cancel"),onAccept:this.handleAccept,onDismiss:this.props.onDismiss,style:"default-maestro"},r.createElement("p",{className:"db-modal-message"},this.getBodyText()))},o})(r.Component);o.CopyToDropboxModal=d});
//# sourceMappingURL=modal.min.js-vfl3JlqKm.map