define(["require","exports","tslib","external/react","modules/clean/react/css","modules/core/i18n","modules/clean/react/paper/utils","modules/constants/file_viewer","modules/clean/react/paper/paper_callout","modules/clean/react/paper/paper_log","modules/clean/static_urls"],function(e,t,n,o,a,r,s,i,p,c,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=function(e){var t=e.buttonText,n=e.onClick;return o.createElement("a",{href:"#",onClick:n},o.createElement("img",{alt:r._("Paper Icon"),src:l.static_url("/static/images/paper/paper-icon-vfluG3iA1.png"),className:"open-in-paper-icon-in-dropdown"}),o.createElement("div",{className:"open-in-paper-icon-in-dropdown-text"},t),o.createElement("div",{className:"open-in-paper-new-badge"},r._("New")))},d=function(e){var t=e.buttonText,n=e.onClick;return o.createElement("button",{className:"copy-to-paper-button c-btn download-button control__button button-secondary c-btn--secondary",onClick:n},o.createElement("img",{alt:r._("Paper Icon"),src:l.static_url("/static/images/paper/paper-icon-vfluG3iA1.png"),className:"open-in-paper-icon"}),t)},_=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={calloutDismissed:!1},t.handleOpenWithPaperClick=function(){var e=t.props.sharedLink?t.props.sharedLink:"",n=t.props.sharedLink?"shared_file_actions":"mounted_file_actions";c.default(c.PaperEventTypes.CTA_CLICK,{source:n,cta:"open_in_paper_button"}),s.createPaperAccountAndRedirect(t.props.file,e)},t.dismissCallout=function(){t.setState({calloutDismissed:!0})},t}return n.__extends(t,e),t.prototype.componentDidMount=function(){if(this.shouldShowButton()){var e=this.props.sharedLink?"shared_file_actions":"mounted_file_actions";c.default(c.PaperEventTypes.CTA_SEEN,{source:e,cta:"open_in_paper_button"})}},t.prototype.shouldShowButton=function(){return s.shouldShowOpenWithPaper(this.props.file,this.props.user,this.props.sharedLink)},t.prototype.renderPaperCalloutIfNeeded=function(){return!["VARIANT_B1","VARIANT_B2","VARIANT_B3","VARIANT_B4","ON"].includes(i.OPEN_IN_PAPER_VARIANT)||this.state.calloutDismissed?null:o.createElement(p.PaperCallout,{title:r._("Bring this doc to life"),message:r._("Copy to Paper and make changes with your team."),onDismiss:this.dismissCallout})},t.prototype.getButtonText=function(){var e=r._("Copy to Paper");return"VARIANT_B2"===i.OPEN_IN_PAPER_VARIANT?e=r._("Edit a copy"):"VARIANT_B3"===i.OPEN_IN_PAPER_VARIANT?e=r._("Edit in Paper"):"VARIANT_B4"===i.OPEN_IN_PAPER_VARIANT&&(e=r._("Open in Paper")),e},t.prototype.render=function(){return this.shouldShowButton()?this.props.inDropdown?o.createElement(u,{onClick:this.handleOpenWithPaperClick,buttonText:this.getButtonText()}):o.createElement("div",{className:"copy-to-paper-wrapper"},o.createElement(d,{onClick:this.handleOpenWithPaperClick,buttonText:this.getButtonText()}),this.renderPaperCalloutIfNeeded()):null},t})(o.Component),h=["/static/css/open_in_paper-vflHtOK-T.css","/static/css/paper/paper_callout-vflK_xhVy.css"];t.OpenInPaperButton=a(_,h)});
//# sourceMappingURL=open_in_paper_button.min.js-vflXia3pe.map