define(["require","exports","tslib","external/react","modules/clean/filepath","modules/clean/previews/util","modules/clean/react/css_timing","modules/clean/react/file_viewer/utils","external/spectrum/file_icon","modules/clean/react/title_bar/base","modules/clean/react/file_viewer/title_bar/controls","modules/clean/react/file_viewer/title_bar/title","modules/clean/react/file_viewer/title_bar/title_breadcrumb","modules/constants/python","modules/core/i18n"],function(e,i,s,t,o,n,r,l,a,c,u,d,f,p,m){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var h=(function(e){function i(){var i=null!==e&&e.apply(this,arguments)||this;return i.isSharedFile=function(){return!!i.props.sharedLinkInfo},i.isMountedFile=function(){return!i.isSharedFile()},i.closeButtonTitle=function(){if(i.isMountedFile()){var e=void 0;if(i.props.isVersionHistoryMode)e=m._("Version history");else if(i.props.fileViewOrigin===p.FileViewOriginType.RECENTS)e=m._("Recents");else{if(i.props.fileViewOrigin===p.FileViewOriginType.PHOTOS||i.props.fileViewAction===p.FileViewActionType.SEARCH)return m._("Close");var s=i.props.file;l.isBrowseFile(s)&&s.fq_path&&(e=o.filename(o.parent_dir(s.fq_path)))}if(e)return m._("Back to %(folder)s").format({folder:e})}return m._("Close")},i}return s.__extends(i,e),i.prototype.componentDidMount=function(){var e=this.props.onMount;e&&e()},i.prototype.render=function(){var e=this.props,i=e.canClose,s=e.canRestoreRevision,o=e.file,r=e.fileSubpath,l=e.hidePageChrome,p=e.isDemoMode,m=e.isSeenStatesEnabled,h=e.isVersionHistoryMode,_=e.isViewingFileSubpath,v=e.maxFilenameEmLength,S=e.onCloseViewer,b=e.onRestoreRevision,w=e.sharedLinkInfo,C=e.sharePermissions,y=e.shareToken,M=e.sizeClass,V=e.user,E=w?w.ownerTeamLogo:void 0,F=l?t.createElement("div",{className:"file-icon"},t.createElement(a.FileIcon,{path:n.get_filename(o)})):null,T=!(!C||0!==C.canViewMetadataRoles.length);return t.createElement(c.TitleBarBase,{canClose:i&&!l,closeTitle:this.closeButtonTitle(),customLogoUrl:E,file:o,onClose:S,overrideIcon:F,shouldShowIcon:!_,sizeClass:M,title:_?t.createElement(f.TitleBreadcrumb,{file:o,fileSubpath:r}):t.createElement(d.Title,{file:o,maxFilenameEmLength:v,sharedLinkInfo:w,shouldDisplayStarred:!l,shouldDisplayMetadata:!l,sizeClass:M,user:V}),controls:[l||_?null:t.createElement(u.SeenStates,{file:o,isSeenStatesEnabled:m,isVersionHistoryMode:h,isViewMetadataDisabled:T,sharedLinkInfo:w,user:V,sizeClass:M}),l?null:t.createElement(u.FileActions,{canRestoreRevision:s,file:o,isDemoMode:p,isSharedFile:this.isSharedFile(),isVersionHistoryMode:h,onRestoreRevision:b,sharedLinkInfo:w,sharePermissions:C,shareToken:y,shouldDisplayActionButtons:!_,sizeClass:M,user:V})]})},i.defaultProps={canClose:!1,canRestoreRevision:!1,isDemoMode:!1,isSeenStatesEnabled:!0,isVersionHistoryMode:!1},i})(t.Component),_=r.requireCssWithComponent(h,["/static/css/react_title_bar-vflxAa9CC.css"]);i.TitleBar=_});
//# sourceMappingURL=title_bar_component.min.js-vfl6RaTpX.map