define(["require","exports","tslib","external/react","external/spectrum/icon_content","modules/clean/em_string","modules/clean/react/breadcrumb/constants","modules/clean/react/breadcrumb/utils","modules/clean/react/bubble_menu","modules/clean/react/css","modules/clean/react/flag","modules/clean/react/sprite","modules/core/i18n"],function(e,n,r,t,o,l,s,i,a,u,c,m,p){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.BreadcrumbOverflowPositions=a.BubbleMenu.POSITIONS;var b=(function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.onSegmentClicked=function(e,r){n.onCrumbClicked(e,r)},n.onMenuClicked=function(e,r,t){n.onCrumbClicked(e,r)},n}return r.__extends(n,e),Object.defineProperty(n.prototype,"crumbs",{get:function(){return this.props.overflowCrumbs.concat(this.props.inlineCrumbs)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"lastCrumb",{get:function(){return this.props.inlineCrumbs[this.props.inlineCrumbs.length-1]},enumerable:!0,configurable:!0}),n.prototype.onCrumbClicked=function(e,n){this.props.onChange&&this.props.onChange(e,n,this.crumbs.indexOf(n))},n.prototype.render=function(){var e=this;return t.createElement("span",null,t.createElement("h1",{className:"ax-visually-hidden"},this.lastCrumb.label),t.createElement("nav",{className:"breadcrumb-trail u-l-fl","aria-label":p._("Folder Hierarchy"),role:"navigation"},this.props.overflowCrumbs.length?t.createElement(h,{crumbs:this.props.overflowCrumbs,onChange:this.onMenuClicked,overflowDropdownPosition:this.props.overflowDropdownPosition}):null,this.props.inlineCrumbs.map(function(n,r){return t.createElement(g,{key:r,crumb:n,isLastCrumb:n===e.lastCrumb,onClick:e.onSegmentClicked,maxWidth:i.getMaxInlineTrailWidth(!!e.props.overflowCrumbs.length)})})))},n.defaultProps={overflowCrumbs:[]},n})(t.Component),d=u(b,["/static/css/breadcrumbs-vfl_MvM3L.css"]);n.BreadcrumbTrail=d,n.SmartBreadcrumbTrail=function(e){var n=i.splitCrumbs(e.crumbs,i.getMaxInlineTrailWidth(!0)),r=n.overflowCrumbs,o=n.inlineCrumbs;return t.createElement(d,{overflowCrumbs:r,inlineCrumbs:o,onChange:e.onChange,overflowDropdownPosition:e.overflowDropdownPosition})};var f=(function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(n,e),n.prototype.render=function(){return t.createElement(m,{group:"web",name:"chevron",className:"breadcrumb-separator",alt:""})},n})(t.Component),h=(function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.onClick=function(e,r){n.props.onChange&&n.props.onChange(e,r,n.props.crumbs.indexOf(r))},n}return r.__extends(n,e),n.prototype.render=function(){var e=this,n=this.props.crumbs.slice();n.reverse();var r=t.createElement("button",{className:"u-unbutton breadcrumb-overflow-button u-l-fl"},t.createElement(o.IconContent,{name:"folder_dropdown-small",alt:p._("Show parent folders (descending)")})),l=n.map(function(n,r){return t.createElement(C,{key:r,crumb:n,onClick:e.onClick})});return t.createElement("span",{className:"breadcrumb-menu-container"},t.createElement(a.BubbleMenu,{position:this.props.overflowDropdownPosition,targetButton:r,targetFixed:!0,items:l}),t.createElement(f,null))},n})(t.Component),C=(function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.onClick=function(e){n.props.onClick&&n.props.onClick(e,n.props.crumb)},n}return r.__extends(n,e),n.prototype.render=function(){var e=l.Emstring.em_snippet(this.props.crumb.label,s.MAX_MENU_ITEM_WIDTH_IN_EMS);return t.createElement(a.BubbleMenuItem,{className:"breadcrumb-menu-item",href:this.props.crumb.href,onClick:this.onClick},t.createElement(c.Flag,{leftAttachment:t.createElement(o.IconContent,{name:"folder-small",alt:""}),rightAttachment:t.createElement("div",{className:"breadcrumb-menu-item__text"},e)}))},n})(t.Component),g=(function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.onClick=function(e){n.props.onClick&&n.props.onClick(e,n.props.crumb)},n}return r.__extends(n,e),n.prototype.getLabel=function(){return l.Emstring.em_snippet(this.props.crumb.label,this.props.maxWidth)},n.prototype.render=function(){var e=this.getLabel();return this.props.isLastCrumb?t.createElement("span",{className:"breadcrumb-segment"},e):t.createElement("span",null,t.createElement("a",{className:"breadcrumb-segment",href:this.props.crumb.href,onClick:this.onClick},e),t.createElement(f,null))},n})(t.Component)});
//# sourceMappingURL=trail.min.js-vfl1V4hL1.map