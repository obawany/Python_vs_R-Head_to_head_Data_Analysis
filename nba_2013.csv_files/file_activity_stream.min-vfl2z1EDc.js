define(["require","exports","tslib","external/react","modules/core/i18n","modules/constants/rebrand","modules/clean/react/css","modules/clean/components/loading_indicator","modules/clean/react/file_activity_stream/feedback_panel","modules/clean/react/file_sidebar/file_sidebar_connect","modules/clean/react/file_sidebar/store/file_activity/actions","modules/clean/react/file_sidebar/store/file_activity/selectors","modules/clean/react/file_activity_stream/file_activity_stream_card_factory"],function(e,t,a,i,r,l,n,c,s,_,o,m,d){"use strict";function v(e){var t=m.getActivitiesMetadata(e),i=m.getFeedbackState(e);return{activities:a.__assign({},t),feedback:a.__assign({},i)}}Object.defineProperty(t,"__esModule",{value:!0});var y=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onRefreshClick=function(e){var a=t.props,i=a.dispatch,r=a.file,l=a.user;e.preventDefault(),i(o.reset()),i(o.getActivityStream(l.id,r))},t}return a.__extends(t,e),t.prototype.renderDebug=function(){return null},t.prototype.renderLoading=function(){return i.createElement("div",{className:"file_activity_stream file_activity_stream-overlay"},i.createElement(c.LoadingIndicator,{style:c.LoadingIndicator.LoadingIndicatorStyle.BLUE_SPINNER}))},t.prototype.renderError=function(){return i.createElement("div",{className:"file_activity_stream file_activity_stream-overlay"},i.createElement("div",{className:"file_activity_stream__centered_panel"},r._("Oops, we had an issue."),i.createElement("a",{href:"",onClick:this.onRefreshClick},r._("Try again"))))},t.prototype.renderNoLogs=function(){return l.REBRAND_M1_IS_ON?i.createElement("div",{className:"file_activity_stream"},i.createElement("div",{className:"file_activity_stream__empty_state"},i.createElement("h4",null,r._("No recent activity")),i.createElement("p",null,r._("Once people start doing things with this file, you’ll see their activity here.")))):i.createElement("div",{className:"file_activity_stream file_activity_stream-overlay"},i.createElement("div",{className:"file_activity_stream__centered_panel"},i.createElement("div",{className:"file_activity_stream__empty_state"},i.createElement("div",{className:"file_activity_stream__empty_state_image"}),i.createElement("h4",null,r._("No recent activity")),i.createElement("p",null,r._("Once people start doing things with this file, you’ll see their activity here.")))))},t.prototype.renderOldFile=function(){return l.REBRAND_M1_IS_ON?i.createElement("div",{className:"file_activity_stream"},i.createElement("div",{className:"file_activity_stream__empty_state"},i.createElement("h4",null,r._("No recent activity")),i.createElement("p",null,r._("This file hasn’t been updated in the past year.")))):i.createElement("div",{className:"file_activity_stream file_activity_stream-overlay"},i.createElement("div",{className:"file_activity_stream__centered_panel"},i.createElement("div",{className:"file_activity_stream__empty_state"},i.createElement("div",{className:"file_activity_stream__empty_state_image"}),i.createElement("h4",null,r._("No recent activity")),i.createElement("p",null,r._("This file hasn’t been updated in the past year.")))))},t.prototype.render=function(){var e=this.props,t=e.activities,a=e.feedback,r=e.file,l=e.user;return t&&a?!t.loaded&&t.loading?this.renderLoading():0===t.value.length?t.error?this.renderError():"number"==typeof r.ts&&Math.floor(Date.now()/1e3)-r.ts>=7776e3?this.renderOldFile():this.renderNoLogs():i.createElement("div",{className:"file_activity_stream"},a.shouldShow&&i.createElement(s.FeedbackPanel,null),t.value.map(function(e){return i.createElement(d.FileActivityStreamCardFactory,{key:e.id,activity:e,file:r,viewingUser:l})}),this.renderDebug()):null},t})(i.Component);t.FileActivityStream=_.fileSidebarConnect(v)(n(y,["/static/css/file_activity_stream-vflE2Wwgu.css"]))});
//# sourceMappingURL=file_activity_stream.min.js-vflBORyIJ.map